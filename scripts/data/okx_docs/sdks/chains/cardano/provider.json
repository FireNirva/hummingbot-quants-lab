{
  "title": "Provider API | cardano | 连接浏览器插件钱包 | 接入 Web3 钱包 | DEX API 文档 | 欧易",
  "text": "Provider API\n#\n什么是 Injected provider API？\n#\n欧易 Injected providers API 是一个 JavaScript API，欧易将其注入用户访问的网站。您的 DApp 可以使用此 API 请求用户帐户，从用户连接的区块链读取数据，帮助用户签署消息和交易。\n获取注入的对象\n#\nDapp 可以通过两种方式访问注入的对象，分别是：\nwindow.okxwallet.cardano\nwindow.cardano.okxwallet\n这两个属性都指向同一个对象，提供两个方式是为了方便 Dapp 使用。\n注入对象的属性和方法\n#\nname\n- string: 钱包的名称，值为 'OKX Wallet'\nicon\n- string: 钱包的图标\napiVersion\n- string: 版本号\nisEnabled\n- () => Promise<bool>: 返回当前钱包是否已经链接上 Dapp 。如果 Dapp 已经链接到用户的钱包，则返回 true ，否则返回 false 。如果此函数返回 true ，则后续调用 wallet.enable() 时都会成功并且返回 API 对象。\nenable\n- () => Promise<API>: 该用法用于链接钱包，如果用户同意了链接钱包，则会将 API 对象返回给 Dapp 。\n连接钱包的简单示例\n#\ntry\n{\nconst\nokxwalletCardanoApi\n=\nawait\nwindow\n.\nokxwallet\n.\ncardano\n.\nenable\n(\n)\n;\n}\ncatch\n(\nerror\n)\n{\nconsole\n.\nlog\n(\nerror\n)\n;\n}\n获取网络 Id\n#\napi.getNetworkId(): Promise<number>\n描述\n返回当前连接的帐户的网络 Id 。\n返回值\nnetworkId\n- string: 当前连接的帐户的网络 Id 。\nconst\nokxwalletCardanoApi\n=\nawait\nwindow\n.\nokxwallet\n.\ncardano\n.\nenable\n(\n)\n;\nconst\nnetworkId\n=\nawait\nokxwalletCardanoApi\n.\ngetNetworkId\n(\n)\n;\n获取 UTXO\n#\napi.getUtxos(amount: cbor<value> = undefined): Promise<TransactionUnspentOutput[] | undefined>\n描述\n如果 amount 没有定义，则返回由钱包控制的所有 UTXO (未花费的交易输出)列表。 如果 amount 定义了，则返回达到 amount 中指定的 ADA /多资产价值目标所需的 UTXO ，如果无法达到，则返回 null 。\n返回值\nutxos\n- string[]: UTXO 列表。\nconst\nokxwalletCardanoApi\n=\nawait\nwindow\n.\nokxwallet\n.\ncardano\n.\nenable\n(\n)\n;\nconst\nutxos\n=\nawait\nokxwalletCardanoApi\n.\ngetUtxos\n(\n)\n;\n获取资产\n#\napi.getBalance(): Promise<cbor<value>>\n描述\n返回钱包可用的总余额。这与 api.getUtxos() 返回的结果相加是一样的。\n返回值\nbalance\n- string: 钱包可用的总余额\nconst\nokxwalletCardanoApi\n=\nawait\nwindow\n.\nokxwallet\n.\ncardano\n.\nenable\n(\n)\n;\nconst\nutxos\n=\nawait\nokxwalletCardanoApi\n.\ngetBalance\n(\n)\n;\n获取已使用的钱包地址\n#\napi.getUsedAddresses(): Promise<cbor<address>[]>\n描述\n返回所有由钱包控制的已使用地址(包括在某些链上交易中)的列表。\n返回值\naddresses\n- string[]: 已使用的地址列表。\nconst\nokxwalletCardanoApi\n=\nawait\nwindow\n.\nokxwallet\n.\ncardano\n.\nenable\n(\n)\n;\nconst\nutxos\n=\nawait\nokxwalletCardanoApi\n.\ngetUsedAddresses\n(\n)\n;\n获取未使用的钱包地址\n#\napi.getUnusedAddresses(): Promise<cbor<address>[]>\n描述\n返回由钱包控制的未使用地址列表。\n返回值\naddresses\n- string[]: 未使用的地址列表。\nconst\nokxwalletCardanoApi\n=\nawait\nwindow\n.\nokxwallet\n.\ncardano\n.\nenable\n(\n)\n;\nconst\nutxos\n=\nawait\nokxwalletCardanoApi\n.\ngetUnusedAddresses\n(\n)\n;\n获取找零地址\n#\napi.getChangeAddress(): Promise<cbor<address>>\n描述\n返回钱包组装交易时，需要使用到的找零地址。\n返回值\nchangeAddress\n- string: 找零地址.\nconst\nokxwalletCardanoApi\n=\nawait\nwindow\n.\nokxwallet\n.\ncardano\n.\nenable\n(\n)\n;\nconst\nutxos\n=\nawait\nokxwalletCardanoApi\n.\ngetChangeAddress\n(\n)\n;\n签名交易\n#\napi.signTx(tx: cbor<transaction>): Promise<cbor<transaction_witness_set>>\n描述\n请求用户对交易进行签名，如果用户同意，则尝试对交易进行签名，并返回签名的交易。\n返回值\nsignedTx\n- string: 签名的交易。\nconst\nokxwalletCardanoApi\n=\nawait\nwindow\n.\nokxwallet\n.\ncardano\n.\nenable\n(\n)\n;\nconst\nrawTransaction\n=\n''\n;\nconst\nresult\n=\nawait\nokxwalletCardanoApi\n.\nsignTx\n(\nrawTransaction\n)\n;\n签名消息\n#\napi.signData: (addr: Cbor<address>, payload: HexString) => Promise<DataSignature>\n描述\n签名消息。\n阅读更多关于 CIP-0030 的消息签名规范。(\nhttps://github.com/cardano-foundation/CIPs/tree/master/CIP-0030\n).\n返回值\ndataSignature\n- object\nsignature - string\nkey - string\nconst\nokxwalletCardanoApi\n=\nawait\nwindow\n.\nokxwallet\n.\ncardano\n.\nenable\n(\n)\n;\nconst\naddresses\n=\nawait\nokxwalletCardanoApi\n.\ngetUsedAddresses\n(\n)\n;\nconst\npayload\n=\n''\n;\nconst\nresult\n=\nawait\nokxwalletCardanoApi\n.\nsignData\n(\naddresses\n[\n0\n]\n,\npayload\n)\n;\n广播交易\n#\napi.submitTx(tx: cbor<transaction>): Promise<hash32>\n描述\n广播交易，并返回给 Dapp 交易哈希以便 Dapp 追踪这笔交易。\n返回值\ntxHash\n- string: 交易哈希。\nconst\nokxwalletCardanoApi\n=\nawait\nwindow\n.\nokxwallet\n.\ncardano\n.\nenable\n(\n)\n;\nconst\ntransaction\n=\n''\n;\nconst\nresult\n=\nawait\nokxwalletCardanoApi\n.\nsubmitTx\n(\ntransaction\n)\n;",
  "html": "<div class=\"routes_md__xWlGF\"><!--$--><h1 id=\"provider-api\">Provider API<a class=\"index_header-anchor__Xqb+L\" href=\"#provider-api\" style=\"opacity:0\">#</a></h1>\n<h2 data-content=\"什么是 Injected provider API？\" id=\"什么是-injected-provider-api？\">什么是 Injected provider API？<a class=\"index_header-anchor__Xqb+L\" href=\"#什么是-injected-provider-api？\" style=\"opacity:0\">#</a></h2>\n<p>欧易 Injected providers API 是一个 JavaScript API，欧易将其注入用户访问的网站。您的 DApp 可以使用此 API 请求用户帐户，从用户连接的区块链读取数据，帮助用户签署消息和交易。</p>\n<h2 data-content=\"获取注入的对象\" id=\"获取注入的对象\">获取注入的对象<a class=\"index_header-anchor__Xqb+L\" href=\"#获取注入的对象\" style=\"opacity:0\">#</a></h2>\n<p>Dapp 可以通过两种方式访问注入的对象，分别是：</p>\n<ul>\n<li><code>window.okxwallet.cardano</code></li>\n<li><code>window.cardano.okxwallet</code></li>\n</ul>\n<p>这两个属性都指向同一个对象，提供两个方式是为了方便 Dapp 使用。</p>\n<h2 data-content=\"注入对象的属性和方法\" id=\"注入对象的属性和方法\">注入对象的属性和方法<a class=\"index_header-anchor__Xqb+L\" href=\"#注入对象的属性和方法\" style=\"opacity:0\">#</a></h2>\n<ol>\n<li><code>name</code> - string: 钱包的名称，值为 'OKX Wallet'</li>\n<li><code>icon</code> - string: 钱包的图标</li>\n<li><code>apiVersion</code> - string: 版本号</li>\n<li><code>isEnabled</code> - () =&gt; Promise&lt;bool&gt;: 返回当前钱包是否已经链接上 Dapp 。如果 Dapp 已经链接到用户的钱包，则返回 true ，否则返回 false 。如果此函数返回 true ，则后续调用 wallet.enable() 时都会成功并且返回 API 对象。</li>\n<li><code>enable</code> - () =&gt; Promise&lt;API&gt;: 该用法用于链接钱包，如果用户同意了链接钱包，则会将 API 对象返回给 Dapp 。</li>\n</ol>\n<h2 data-content=\"连接钱包的简单示例\" id=\"连接钱包的简单示例\">连接钱包的简单示例<a class=\"index_header-anchor__Xqb+L\" href=\"#连接钱包的简单示例\" style=\"opacity:0\">#</a></h2>\n<div class=\"remark-highlight\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword control-flow\">try</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> okxwalletCardanoApi <span class=\"token operator\">=</span> <span class=\"token keyword control-flow\">await</span> <span class=\"token dom variable\">window</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">okxwallet</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">cardano</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">enable</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span> <span class=\"token keyword control-flow\">catch</span> <span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token console class-name\">console</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">log</span><span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<h2 data-content=\"获取网络 Id\" id=\"获取网络-id\">获取网络 Id<a class=\"index_header-anchor__Xqb+L\" href=\"#获取网络-id\" style=\"opacity:0\">#</a></h2>\n<p><code>api.getNetworkId(): Promise&lt;number&gt;</code></p>\n<p><strong>描述</strong></p>\n<p>返回当前连接的帐户的网络 Id 。</p>\n<p><strong>返回值</strong></p>\n<ul>\n<li><code>networkId</code> - string: 当前连接的帐户的网络 Id 。</li>\n</ul>\n<div class=\"remark-highlight\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> okxwalletCardanoApi <span class=\"token operator\">=</span> <span class=\"token keyword control-flow\">await</span> <span class=\"token dom variable\">window</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">okxwallet</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">cardano</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">enable</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> networkId <span class=\"token operator\">=</span> <span class=\"token keyword control-flow\">await</span> okxwalletCardanoApi<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">getNetworkId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<h2 data-content=\"获取 UTXO\" id=\"获取-utxo\">获取 UTXO<a class=\"index_header-anchor__Xqb+L\" href=\"#获取-utxo\" style=\"opacity:0\">#</a></h2>\n<p><code>api.getUtxos(amount: cbor&lt;value&gt; = undefined): Promise&lt;TransactionUnspentOutput[] | undefined&gt;</code></p>\n<p><strong>描述</strong></p>\n<p>如果 amount 没有定义，则返回由钱包控制的所有 UTXO (未花费的交易输出)列表。 如果 amount 定义了，则返回达到 amount 中指定的 ADA /多资产价值目标所需的 UTXO ，如果无法达到，则返回 null 。</p>\n<p><strong>返回值</strong></p>\n<ul>\n<li><code>utxos</code> - string[]: UTXO 列表。</li>\n</ul>\n<div class=\"remark-highlight\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> okxwalletCardanoApi <span class=\"token operator\">=</span> <span class=\"token keyword control-flow\">await</span> <span class=\"token dom variable\">window</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">okxwallet</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">cardano</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">enable</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> utxos <span class=\"token operator\">=</span> <span class=\"token keyword control-flow\">await</span> okxwalletCardanoApi<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">getUtxos</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<h2 data-content=\"获取资产\" id=\"获取资产\">获取资产<a class=\"index_header-anchor__Xqb+L\" href=\"#获取资产\" style=\"opacity:0\">#</a></h2>\n<p><code>api.getBalance(): Promise&lt;cbor&lt;value&gt;&gt;</code></p>\n<p><strong>描述</strong></p>\n<p>返回钱包可用的总余额。这与 api.getUtxos() 返回的结果相加是一样的。</p>\n<p><strong>返回值</strong></p>\n<ul>\n<li><code>balance</code> - string: 钱包可用的总余额</li>\n</ul>\n<div class=\"remark-highlight\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> okxwalletCardanoApi <span class=\"token operator\">=</span> <span class=\"token keyword control-flow\">await</span> <span class=\"token dom variable\">window</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">okxwallet</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">cardano</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">enable</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> utxos <span class=\"token operator\">=</span> <span class=\"token keyword control-flow\">await</span> okxwalletCardanoApi<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">getBalance</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<h2 data-content=\"获取已使用的钱包地址\" id=\"获取已使用的钱包地址\">获取已使用的钱包地址<a class=\"index_header-anchor__Xqb+L\" href=\"#获取已使用的钱包地址\" style=\"opacity:0\">#</a></h2>\n<p><code>api.getUsedAddresses(): Promise&lt;cbor&lt;address&gt;[]&gt;</code></p>\n<p><strong>描述</strong></p>\n<p>返回所有由钱包控制的已使用地址(包括在某些链上交易中)的列表。</p>\n<p><strong>返回值</strong></p>\n<ul>\n<li><code>addresses</code> - string[]: 已使用的地址列表。</li>\n</ul>\n<div class=\"remark-highlight\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> okxwalletCardanoApi <span class=\"token operator\">=</span> <span class=\"token keyword control-flow\">await</span> <span class=\"token dom variable\">window</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">okxwallet</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">cardano</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">enable</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> utxos <span class=\"token operator\">=</span> <span class=\"token keyword control-flow\">await</span> okxwalletCardanoApi<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">getUsedAddresses</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<h2 data-content=\"获取未使用的钱包地址\" id=\"获取未使用的钱包地址\">获取未使用的钱包地址<a class=\"index_header-anchor__Xqb+L\" href=\"#获取未使用的钱包地址\" style=\"opacity:0\">#</a></h2>\n<p><code>api.getUnusedAddresses(): Promise&lt;cbor&lt;address&gt;[]&gt;</code></p>\n<p><strong>描述</strong></p>\n<p>返回由钱包控制的未使用地址列表。</p>\n<p><strong>返回值</strong></p>\n<ul>\n<li><code>addresses</code> - string[]: 未使用的地址列表。</li>\n</ul>\n<div class=\"remark-highlight\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> okxwalletCardanoApi <span class=\"token operator\">=</span> <span class=\"token keyword control-flow\">await</span> <span class=\"token dom variable\">window</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">okxwallet</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">cardano</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">enable</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> utxos <span class=\"token operator\">=</span> <span class=\"token keyword control-flow\">await</span> okxwalletCardanoApi<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">getUnusedAddresses</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<h2 data-content=\"获取找零地址\" id=\"获取找零地址\">获取找零地址<a class=\"index_header-anchor__Xqb+L\" href=\"#获取找零地址\" style=\"opacity:0\">#</a></h2>\n<p><code>api.getChangeAddress(): Promise&lt;cbor&lt;address&gt;&gt;</code></p>\n<p><strong>描述</strong></p>\n<p>返回钱包组装交易时，需要使用到的找零地址。</p>\n<p><strong>返回值</strong></p>\n<ul>\n<li><code>changeAddress</code> - string: 找零地址.</li>\n</ul>\n<div class=\"remark-highlight\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> okxwalletCardanoApi <span class=\"token operator\">=</span> <span class=\"token keyword control-flow\">await</span> <span class=\"token dom variable\">window</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">okxwallet</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">cardano</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">enable</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> utxos <span class=\"token operator\">=</span> <span class=\"token keyword control-flow\">await</span> okxwalletCardanoApi<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">getChangeAddress</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<h2 data-content=\"签名交易\" id=\"签名交易\">签名交易<a class=\"index_header-anchor__Xqb+L\" href=\"#签名交易\" style=\"opacity:0\">#</a></h2>\n<p><code>api.signTx(tx: cbor&lt;transaction&gt;): Promise&lt;cbor&lt;transaction_witness_set&gt;&gt;</code></p>\n<p><strong>描述</strong></p>\n<p>请求用户对交易进行签名，如果用户同意，则尝试对交易进行签名，并返回签名的交易。</p>\n<p><strong>返回值</strong></p>\n<ul>\n<li><code>signedTx</code> - string: 签名的交易。</li>\n</ul>\n<div class=\"remark-highlight\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> okxwalletCardanoApi <span class=\"token operator\">=</span> <span class=\"token keyword control-flow\">await</span> <span class=\"token dom variable\">window</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">okxwallet</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">cardano</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">enable</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> rawTransaction <span class=\"token operator\">=</span> <span class=\"token string\">''</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> result <span class=\"token operator\">=</span> <span class=\"token keyword control-flow\">await</span> okxwalletCardanoApi<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">signTx</span><span class=\"token punctuation\">(</span>rawTransaction<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<h2 data-content=\"签名消息\" id=\"签名消息\">签名消息<a class=\"index_header-anchor__Xqb+L\" href=\"#签名消息\" style=\"opacity:0\">#</a></h2>\n<p><code>api.signData: (addr: Cbor&lt;address&gt;, payload: HexString) =&gt; Promise&lt;DataSignature&gt;</code></p>\n<p><strong>描述</strong></p>\n<p>签名消息。\n阅读更多关于 CIP-0030 的消息签名规范。(<a class=\"items-center\" href=\"https://github.com/cardano-foundation/CIPs/tree/master/CIP-0030\" rel=\"nofollow noreferrer\" style=\"display:inline-flex;line-height:16px\" target=\"_blank\">https://github.com/cardano-foundation/CIPs/tree/master/CIP-0030<i aria-hidden=\"true\" class=\"icon iconfont doc-ssr-okds-open-link\" role=\"img\" style=\"font-size:24px;color:#0569FF;margin-left:2px\"></i></a>).</p>\n<p><strong>返回值</strong></p>\n<ul>\n<li><code>dataSignature</code> - object<!-- -->\n<ul>\n<li>signature - string</li>\n<li>key - string</li>\n</ul>\n</li>\n</ul>\n<div class=\"remark-highlight\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> okxwalletCardanoApi <span class=\"token operator\">=</span> <span class=\"token keyword control-flow\">await</span> <span class=\"token dom variable\">window</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">okxwallet</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">cardano</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">enable</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> addresses <span class=\"token operator\">=</span> <span class=\"token keyword control-flow\">await</span> okxwalletCardanoApi<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">getUsedAddresses</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> payload <span class=\"token operator\">=</span> <span class=\"token string\">''</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> result <span class=\"token operator\">=</span> <span class=\"token keyword control-flow\">await</span> okxwalletCardanoApi<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">signData</span><span class=\"token punctuation\">(</span>addresses<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> payload<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<h2 data-content=\"广播交易\" id=\"广播交易\">广播交易<a class=\"index_header-anchor__Xqb+L\" href=\"#广播交易\" style=\"opacity:0\">#</a></h2>\n<p><code>api.submitTx(tx: cbor&lt;transaction&gt;): Promise&lt;hash32&gt;</code></p>\n<p><strong>描述</strong></p>\n<p>广播交易，并返回给 Dapp 交易哈希以便 Dapp 追踪这笔交易。</p>\n<p><strong>返回值</strong></p>\n<ul>\n<li><code>txHash</code> - string: 交易哈希。</li>\n</ul>\n<div class=\"remark-highlight\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> okxwalletCardanoApi <span class=\"token operator\">=</span> <span class=\"token keyword control-flow\">await</span> <span class=\"token dom variable\">window</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">okxwallet</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">cardano</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">enable</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> transaction <span class=\"token operator\">=</span> <span class=\"token string\">''</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> result <span class=\"token operator\">=</span> <span class=\"token keyword control-flow\">await</span> okxwalletCardanoApi<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">submitTx</span><span class=\"token punctuation\">(</span>transaction<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div><!--/$--></div>",
  "url": "https://web3.okx.com/zh-hans/build/dev-docs/sdks/chains/cardano/provider#签名消息",
  "navigation": {
    "breadcrumbs": [
      "DApp 连接钱包",
      "cardano",
      "Provider API"
    ],
    "sidebar_links": [
      "什么是连接钱包",
      "支持的网络",
      "接入前提",
      "EVM 兼容链",
      "Bitcoin 兼容链",
      "Solana 兼容链",
      "TON",
      "SUI",
      "Aptos/Movement",
      "Cosmos 系/Sei",
      "Tron",
      "Starknet",
      "常见问题",
      "接入前提",
      "EVM 兼容链",
      "Bitcoin 兼容链",
      "Tron",
      "Solana 兼容链",
      "TON",
      "Aptos/Movement"
    ],
    "toc": [
      "什么是 Injected provider API？",
      "获取注入的对象",
      "注入对象的属性和方法",
      "连接钱包的简单示例",
      "获取网络 Id",
      "获取 UTXO",
      "获取资产",
      "获取已使用的钱包地址",
      "获取未使用的钱包地址",
      "获取找零地址",
      "签名交易",
      "签名消息",
      "广播交易"
    ]
  },
  "word_count": 504,
  "extract_time": "2025-05-27 07:25:49"
}