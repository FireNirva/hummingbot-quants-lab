{
  "title": "Provider API (Testnet) | Bitcoin | 连接浏览器插件钱包 | 接入 Web3 钱包 | DEX API 文档 | 欧易",
  "text": "Provider API (Testnet)\n#\n什么是 Injected provider API (Testnet) ？\n#\nOKX Injected Providers API (Testnet) 基于 JavaScript 模型，由 OKX 嵌入用户访问网站中。DApp 项目可以通过调用此 API 请求用户账户信息，从用户所连接的区块链中读取数据，并协助用户进行消息和交易的签署。\nconnect\n#\nokxwallet.bitcoinTestnet.connect()\n描述\n连接钱包\n参数\n无\n返回值\nPromise - object\naddress - string：当前账户的地址\npublicKey - string：当前账户的公钥\n示例\nconst\nresult\n=\nawait\nokxwallet\n.\nbitcoinTestnet\n.\nconnect\n(\n)\n// example\n{\naddress\n:\n'bc1pwqye6x35g2n6xpwalywhpsvsu39k3l6086cvdgqazlw9mz2meansz9knaq'\n,\npublicKey\n:\n'4a627f388196639041ce226c0229560127ef9a5a39d4885123cd82dc82d8b497'\n}\nsignMessage\n#\nokxwallet.bitcoinTestnet.signMessage(signStr[, type])\n描述\n签名消息\n参数\nsignStr - string：需要签名的数据\ntype - string： (可选) \"ecdsa\" | \"bip322-simple\"，默认值是 \"ecdsa\"\n返回值\nPromise - string：签名结果\n示例\nconst\nsignStr\n=\n'need sign string'\n;\nconst\nresult\n=\nawait\nwindow\n.\nokxwallet\n.\nbitcoinTestnet\n.\nsignMessage\n(\nsignStr\n,\n'ecdsa'\n)\n// example\nINg2ZeG8b6GsiYLiWeQQpvmfFHqCt3zC6ocdlN9ZRQLhSFZdGhgYWF8ipar1wqJtYufxzSYiZm5kdlAcnxgZWQU\n=\nsignPsbt\n#\nokxwallet.bitcoinTestnet.signPsbt(psbtHex[, options])\n描述\n签名 psbt，该方法将遍历所有与当前地址匹配的输入进行签名\n参数\npsbtHex - string：要签名的 psbt 的十六进制字符串\n注\n构建交易生成 psbt (string 类型)，如果遇到 input 地址是 Taproot 类型，需要提供公钥。\n示例：可参考下面的 txInput 和 publicKey。\nconst\ntxInputs\n:\nutxoInput\n[\n]\n=\n[\n]\n;\ntxInputs\n.\npush\n(\n{\ntxId\n:\n\"1e0f92720ef34ab75eefc5d691b551fb2f783eac61503a69cdf63eb7305d2306\"\n,\nvOut\n:\n2\n,\namount\n:\n341474\n,\naddress\n:\n\"tb1q8h8....mjxzny\"\n,\nprivateKey\n:\n\"0s79......ldjejke\"\n,\npublicKey\n:\n\"tb1q8h8....mjxzny\"\n,\nbip32Derivation\n:\n[\n{\n\"masterFingerprint\"\n:\n\"a22e8e32\"\n,\n\"pubkey\"\n:\n\"tb1q8h8....mjxzny\"\n,\n\"path\"\n:\n\"m/49'/0'/0'/0/0\"\n,\n}\n,\n]\n,\n}\n)\n;\noptions\nautoFinalized - boolean：签名后是否完成 psbt，默认为 true\ntoSignInputs - array：\nindex - number：要签名的输入\naddress - string：用于签名的相应私钥所对应的地址\npublicKey - string：用于签名的相应私钥所对应的公钥\nsighashTypes - number[]： (可选) sighashTypes\ndisableTweakSigner - boolean： (可选) 签名和解锁 Taproot 地址时， 默认使用 tweakSigner 来生成签名，启用此选项允许使用原始私钥进行签名\n返回值\nPromise - string：已签名 psbt 的十六进制字符串\n示例\ntry\n{\nlet\nres\n=\nawait\nokxwallet\n.\nbitcoinTestnet\n.\nsignPsbt\n(\n'70736274ff01007d....'\n,\n{\nautoFinalized\n:\nfalse\n,\ntoSignInputs\n:\n[\n{\nindex\n:\n0\n,\naddress\n:\n'tb1q8h8....mjxzny'\n,\n}\n,\n{\nindex\n:\n1\n,\npublicKey\n:\n'tb1q8h8....mjxzny'\n,\nsighashTypes\n:\n[\n1\n]\n,\n}\n,\n{\nindex\n:\n2\n,\npublicKey\n:\n'02062...8779693f'\n,\n}\n,\n]\n,\n}\n)\n;\nconsole\n.\nlog\n(\nres\n)\n;\n}\ncatch\n(\ne\n)\n{\nconsole\n.\nlog\n(\ne\n)\n;\n}\nokxwallet\n.\nbitcoinTestnet\n.\nsignPsbt\n(\n'xxxxxxxx'\n,\n{\ntoSignInputs\n:\n[\n{\nindex\n:\n0\n,\npublicKey\n:\n'xxxxxx'\n,\ndisableTweakSigner\n:\ntrue\n}\n]\n,\nautoFinalized\n:\nfalse\n,\n}\n)\n;\nsignPsbts\n#\nokxwallet.bitcoinTestnet.signPsbts(psbtHexs[, options])\n描述\n签署多个 psbt，该方法将遍历所有与当前地址匹配的输入进行签名\n参数\npsbtHexs - string[]：要签名的 psbt 的十六进制字符串\n注\n构建交易生成 psbt (string 类型)，如果遇到 input 地址是 Taproot 类型，需要提供公钥。\n示例：可参考下面的 txInput 和 publicKey。\nconst\ntxInputs\n:\nutxoInput\n[\n]\n=\n[\n]\n;\ntxInputs\n.\npush\n(\n{\ntxId\n:\n\"1e0f92720ef34ab75eefc5d691b551fb2f783eac61503a69cdf63eb7305d2306\"\n,\nvOut\n:\n2\n,\namount\n:\n341474\n,\naddress\n:\n\"tb1q8h8....mjxzny\"\n,\nprivateKey\n:\n\"0s79......ldjejke\"\n,\npublicKey\n:\n\"tb1q8h8....mjxzny\"\n,\nbip32Derivation\n:\n[\n{\n\"masterFingerprint\"\n:\n\"a22e8e32\"\n,\n\"pubkey\"\n:\n\"tb1q8h8....mjxzny\"\n,\n\"path\"\n:\n\"m/49'/0'/0'/0/0\"\n,\n}\n,\n]\n,\n}\n)\n;\noptions - object[]：签署 psbt 的选项\nautoFinalized - boolean：签名后是否完成 psbt，默认为 true\ntoSignInputs - array：\nindex - number：要签名的输入\naddress - string：用于签名的相应私钥所对应的地址\npublicKey - string：用于签名的相应私钥所对应的公钥\nsighashTypes - number[]： (可选) sighashTypes\n返回值\nPromise - string[]：已签名 psbt 的十六进制字符串\n示例\ntry\n{\nlet\nres\n=\nawait\nokxwallet\n.\nbitcoinTestnet\n.\nsignPsbts\n(\n[\n'70736274ff01007d...'\n,\n'70736274ff01007d...'\n,\n]\n)\n;\nconsole\n.\nlog\n(\nres\n)\n;\n}\ncatch\n(\ne\n)\n{\nconsole\n.\nlog\n(\ne\n)\n;\n}",
  "html": "<div class=\"routes_md__xWlGF\"><!--$--><h1 id=\"provider-api-(testnet)\">Provider API (Testnet)<a class=\"index_header-anchor__Xqb+L\" href=\"#provider-api-(testnet)\" style=\"opacity:0\">#</a></h1>\n<h2 data-content=\"什么是 Injected provider API (Testnet) ？\" id=\"什么是-injected-provider-api-(testnet)-？\">什么是 Injected provider API (Testnet) ？<a class=\"index_header-anchor__Xqb+L\" href=\"#什么是-injected-provider-api-(testnet)-？\" style=\"opacity:0\">#</a></h2>\n<p>OKX Injected Providers API (Testnet) 基于 JavaScript 模型，由 OKX 嵌入用户访问网站中。DApp 项目可以通过调用此 API 请求用户账户信息，从用户所连接的区块链中读取数据，并协助用户进行消息和交易的签署。</p>\n<h2 data-content=\"connect\" id=\"connect\">connect<a class=\"index_header-anchor__Xqb+L\" href=\"#connect\" style=\"opacity:0\">#</a></h2>\n<p><code>okxwallet.bitcoinTestnet.connect()</code></p>\n<p><strong>描述</strong></p>\n<p>连接钱包</p>\n<p><strong>参数</strong></p>\n<p>无</p>\n<p><strong>返回值</strong></p>\n<ul>\n<li>Promise - object<!-- -->\n<ul>\n<li>address - string：当前账户的地址</li>\n<li>publicKey - string：当前账户的公钥</li>\n</ul>\n</li>\n</ul>\n<p><strong>示例</strong></p>\n<div class=\"remark-highlight\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">const</span> result <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> okxwallet<span class=\"token punctuation\">.</span>bitcoinTestnet<span class=\"token punctuation\">.</span><span class=\"token function\">connect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">// example</span>\n<span class=\"token punctuation\">{</span>\n  address<span class=\"token operator\">:</span> <span class=\"token string\">'bc1pwqye6x35g2n6xpwalywhpsvsu39k3l6086cvdgqazlw9mz2meansz9knaq'</span><span class=\"token punctuation\">,</span>\n  publicKey<span class=\"token operator\">:</span> <span class=\"token string\">'4a627f388196639041ce226c0229560127ef9a5a39d4885123cd82dc82d8b497'</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<h2 data-content=\"signMessage\" id=\"signmessage\">signMessage<a class=\"index_header-anchor__Xqb+L\" href=\"#signmessage\" style=\"opacity:0\">#</a></h2>\n<p><code>okxwallet.bitcoinTestnet.signMessage(signStr[, type])</code></p>\n<p><strong>描述</strong></p>\n<p>签名消息</p>\n<p><strong>参数</strong></p>\n<ul>\n<li>signStr - string：需要签名的数据</li>\n<li>type - string： (可选) \"ecdsa\" | \"bip322-simple\"，默认值是 \"ecdsa\"</li>\n</ul>\n<p><strong>返回值</strong></p>\n<ul>\n<li>Promise - string：签名结果</li>\n</ul>\n<p><strong>示例</strong></p>\n<div class=\"remark-highlight\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">const</span> signStr <span class=\"token operator\">=</span> <span class=\"token string\">'need sign string'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> result <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> window<span class=\"token punctuation\">.</span>okxwallet<span class=\"token punctuation\">.</span>bitcoinTestnet<span class=\"token punctuation\">.</span><span class=\"token function\">signMessage</span><span class=\"token punctuation\">(</span>signStr<span class=\"token punctuation\">,</span> <span class=\"token string\">'ecdsa'</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">// example</span>\nINg2ZeG8b6GsiYLiWeQQpvmfFHqCt3zC6ocdlN9ZRQLhSFZdGhgYWF8ipar1wqJtYufxzSYiZm5kdlAcnxgZWQU<span class=\"token operator\">=</span>\n</code></pre></div>\n<h2 data-content=\"signPsbt\" id=\"signpsbt\">signPsbt<a class=\"index_header-anchor__Xqb+L\" href=\"#signpsbt\" style=\"opacity:0\">#</a></h2>\n<p><code>okxwallet.bitcoinTestnet.signPsbt(psbtHex[, options])</code></p>\n<p><strong>描述</strong></p>\n<p>签名 psbt，该方法将遍历所有与当前地址匹配的输入进行签名</p>\n<p><strong>参数</strong></p>\n<ul>\n<li>psbtHex - string：要签名的 psbt 的十六进制字符串</li>\n</ul>\n<div class=\"index_wrapper__x5A2Q\"><div aria-labelledby=\":R1rbf:\" class=\"okui-alert info-alert\"><i aria-hidden=\"true\" class=\"icon iconfont okui-alert-icon doc-ssr-okds-information-circle-fill\" role=\"img\"></i><div class=\"okui-alert-msg-box\"><div class=\"okui-alert-title\" id=\":R1rbf:\">注</div><div class=\"okui-alert-desc\"><div class=\"index_desc__5fNBE\"><p>构建交易生成 psbt (string 类型)，如果遇到 input 地址是 Taproot 类型，需要提供公钥。</p><p>示例：可参考下面的 txInput 和 publicKey。</p></div></div></div></div></div>\n<div class=\"remark-highlight\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">const</span> txInputs<span class=\"token operator\">:</span> utxoInput<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\ntxInputs<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n      txId<span class=\"token operator\">:</span> <span class=\"token string\">\"1e0f92720ef34ab75eefc5d691b551fb2f783eac61503a69cdf63eb7305d2306\"</span><span class=\"token punctuation\">,</span>\n      vOut<span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span>\n      amount<span class=\"token operator\">:</span> <span class=\"token number\">341474</span><span class=\"token punctuation\">,</span>\n      address<span class=\"token operator\">:</span> <span class=\"token string\">\"tb1q8h8....mjxzny\"</span><span class=\"token punctuation\">,</span>\n      privateKey<span class=\"token operator\">:</span> <span class=\"token string\">\"0s79......ldjejke\"</span><span class=\"token punctuation\">,</span>\n      publicKey<span class=\"token operator\">:</span> <span class=\"token string\">\"tb1q8h8....mjxzny\"</span><span class=\"token punctuation\">,</span>\n      bip32Derivation<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n          <span class=\"token punctuation\">{</span>\n              <span class=\"token string-property property\">\"masterFingerprint\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"a22e8e32\"</span><span class=\"token punctuation\">,</span>\n              <span class=\"token string-property property\">\"pubkey\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"tb1q8h8....mjxzny\"</span><span class=\"token punctuation\">,</span>\n              <span class=\"token string-property property\">\"path\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"m/49'/0'/0'/0/0\"</span><span class=\"token punctuation\">,</span>\n          <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<ul>\n<li>options<!-- -->\n<ul>\n<li>autoFinalized - boolean：签名后是否完成 psbt，默认为 true</li>\n<li>toSignInputs - array：<!-- -->\n<ul>\n<li>index - number：要签名的输入</li>\n<li>address - string：用于签名的相应私钥所对应的地址</li>\n<li>publicKey - string：用于签名的相应私钥所对应的公钥</li>\n<li>sighashTypes - number[]： (可选) sighashTypes</li>\n<li>disableTweakSigner - boolean： (可选) 签名和解锁 Taproot 地址时， 默认使用 tweakSigner 来生成签名，启用此选项允许使用原始私钥进行签名</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p><strong>返回值</strong></p>\n<ul>\n<li>Promise - string：已签名 psbt 的十六进制字符串</li>\n</ul>\n<p><strong>示例</strong></p>\n<div class=\"remark-highlight\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> res <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> okxwallet<span class=\"token punctuation\">.</span>bitcoinTestnet<span class=\"token punctuation\">.</span><span class=\"token function\">signPsbt</span><span class=\"token punctuation\">(</span><span class=\"token string\">'70736274ff01007d....'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n    autoFinalized<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n    toSignInputs<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n      <span class=\"token punctuation\">{</span>\n        index<span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\n        address<span class=\"token operator\">:</span> <span class=\"token string\">'tb1q8h8....mjxzny'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">{</span>\n        index<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n        publicKey<span class=\"token operator\">:</span> <span class=\"token string\">'tb1q8h8....mjxzny'</span><span class=\"token punctuation\">,</span>\n        sighashTypes<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">{</span>\n        index<span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span>\n        publicKey<span class=\"token operator\">:</span> <span class=\"token string\">'02062...8779693f'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>res<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\nokxwallet<span class=\"token punctuation\">.</span>bitcoinTestnet<span class=\"token punctuation\">.</span><span class=\"token function\">signPsbt</span><span class=\"token punctuation\">(</span><span class=\"token string\">'xxxxxxxx'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n  toSignInputs<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span> index<span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> publicKey<span class=\"token operator\">:</span> <span class=\"token string\">'xxxxxx'</span><span class=\"token punctuation\">,</span> disableTweakSigner<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  autoFinalized<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<h2 data-content=\"signPsbts\" id=\"signpsbts\">signPsbts<a class=\"index_header-anchor__Xqb+L\" href=\"#signpsbts\" style=\"opacity:0\">#</a></h2>\n<p><code>okxwallet.bitcoinTestnet.signPsbts(psbtHexs[, options])</code></p>\n<p><strong>描述</strong></p>\n<p>签署多个 psbt，该方法将遍历所有与当前地址匹配的输入进行签名</p>\n<p><strong>参数</strong></p>\n<ul>\n<li>psbtHexs - string[]：要签名的 psbt 的十六进制字符串</li>\n</ul>\n<div class=\"index_wrapper__x5A2Q\"><div aria-labelledby=\":R2lbf:\" class=\"okui-alert info-alert\"><i aria-hidden=\"true\" class=\"icon iconfont okui-alert-icon doc-ssr-okds-information-circle-fill\" role=\"img\"></i><div class=\"okui-alert-msg-box\"><div class=\"okui-alert-title\" id=\":R2lbf:\">注</div><div class=\"okui-alert-desc\"><div class=\"index_desc__5fNBE\"><p>构建交易生成 psbt (string 类型)，如果遇到 input 地址是 Taproot 类型，需要提供公钥。</p><p>示例：可参考下面的 txInput 和 publicKey。</p></div></div></div></div></div>\n<div class=\"remark-highlight\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">const</span> txInputs<span class=\"token operator\">:</span> utxoInput<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\ntxInputs<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n      txId<span class=\"token operator\">:</span> <span class=\"token string\">\"1e0f92720ef34ab75eefc5d691b551fb2f783eac61503a69cdf63eb7305d2306\"</span><span class=\"token punctuation\">,</span>\n      vOut<span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span>\n      amount<span class=\"token operator\">:</span> <span class=\"token number\">341474</span><span class=\"token punctuation\">,</span>\n      address<span class=\"token operator\">:</span> <span class=\"token string\">\"tb1q8h8....mjxzny\"</span><span class=\"token punctuation\">,</span>\n      privateKey<span class=\"token operator\">:</span> <span class=\"token string\">\"0s79......ldjejke\"</span><span class=\"token punctuation\">,</span>\n      publicKey<span class=\"token operator\">:</span> <span class=\"token string\">\"tb1q8h8....mjxzny\"</span><span class=\"token punctuation\">,</span>\n      bip32Derivation<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n          <span class=\"token punctuation\">{</span>\n              <span class=\"token string-property property\">\"masterFingerprint\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"a22e8e32\"</span><span class=\"token punctuation\">,</span>\n              <span class=\"token string-property property\">\"pubkey\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"tb1q8h8....mjxzny\"</span><span class=\"token punctuation\">,</span>\n              <span class=\"token string-property property\">\"path\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"m/49'/0'/0'/0/0\"</span><span class=\"token punctuation\">,</span>\n          <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<ul>\n<li>options - object[]：签署 psbt 的选项<!-- -->\n<ul>\n<li>autoFinalized - boolean：签名后是否完成 psbt，默认为 true</li>\n<li>toSignInputs - array：<!-- -->\n<ul>\n<li>index - number：要签名的输入</li>\n<li>address - string：用于签名的相应私钥所对应的地址</li>\n<li>publicKey - string：用于签名的相应私钥所对应的公钥</li>\n<li>sighashTypes - number[]： (可选) sighashTypes</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p><strong>返回值</strong></p>\n<ul>\n<li>Promise - string[]：已签名 psbt 的十六进制字符串</li>\n</ul>\n<p><strong>示例</strong></p>\n<div class=\"remark-highlight\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> res <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> okxwallet<span class=\"token punctuation\">.</span>bitcoinTestnet<span class=\"token punctuation\">.</span><span class=\"token function\">signPsbts</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>\n    <span class=\"token string\">'70736274ff01007d...'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">'70736274ff01007d...'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>res<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div><!--/$--></div>",
  "url": "https://web3.okx.com/zh-hans/build/dev-docs/sdks/chains/bitcoin/provider-testnet#signpsbts",
  "navigation": {
    "breadcrumbs": [
      "DApp 连接钱包",
      "Bitcoin",
      "Provider API (Testnet)"
    ],
    "sidebar_links": [
      "什么是连接钱包",
      "支持的网络",
      "接入前提",
      "EVM 兼容链",
      "Bitcoin 兼容链",
      "Solana 兼容链",
      "TON",
      "SUI",
      "Aptos/Movement",
      "Cosmos 系/Sei",
      "Tron",
      "Starknet",
      "常见问题",
      "接入前提",
      "EVM 兼容链",
      "Bitcoin 兼容链",
      "Provider API",
      "Provider API (Fractal Bitcoin)",
      "Provider API (Testnet)",
      "Provider API (Signet)"
    ],
    "toc": [
      "什么是 Injected provider API (Testnet) ？",
      "connect",
      "signMessage",
      "signPsbt",
      "signPsbts"
    ]
  },
  "word_count": 526,
  "extract_time": "2025-05-27 07:11:39"
}