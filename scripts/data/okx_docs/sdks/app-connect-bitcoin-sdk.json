{
  "title": "SDK | Bitcoin兼容链 | 连接App或Mini钱包 | 接入 Web3 钱包 | DEX API 文档 | 欧易",
  "text": "SDK\n#\n安装及初始化\n#\n请确保更新到 6.92.0或以后版本，即可开始接入：将 OKX Connect 集成到您的 DApp 中，可以使用 npm:\nnpm install @okxconnect/universal-provider\n连接钱包之前，需要先创建一个对象，用于后续连接钱包、发送交易等操作。\nOKXUniversalProvider.init({dappMetaData: {name, icon}})\n请求参数\ndappMetaData - object\nname - string: 应用名称，不会作为唯一表示\nicon - string: 应用图标的 URL。必须是 PNG、ICO 等格式，不支持 SVG 图标。最好传递指向 180x180px PNG 图标的 url。\n返回值\nOKXUniversalProvider\n示例\nimport\n{\nOKXUniversalProvider\n}\nfrom\n\"@okxconnect/universal-provider\"\n;\nconst\nokxUniversalProvider\n=\nawait\nOKXUniversalProvider\n.\ninit\n(\n{\ndappMetaData\n:\n{\nname\n:\n\"application name\"\n,\nicon\n:\n\"application icon url\"\n}\n,\n}\n)\n连接钱包\n#\n连接钱包去获取钱包地址，作为标识符和用于签名交易的必要参数\nokxUniversalProvider.connect(connectParams: ConnectParams);\n请求参数\nconnectParams - ConnectParams\nnamespaces - [namespace: string]: ConnectNamespace ; 请求连接的可选信息， EVM系的key为\"eip155\"，BTC系的key为\"btc\"，如果请求的链中，有任何一个链钱包不支持的话，钱包会拒绝连接\nchains: string[]; 链id信息,\ndefaultChain?: string; 默认链\noptionalNamespaces - [namespace: string]: ConnectNamespace; 请求连接的可选信息， EVM系的key为\"eip155\"，BTC系的key为\"btc\"，如果对应的链信息钱包不支持，依然可以连接\nchains: string[]; 链id信息\ndefaultChain?: string; 默认链\nsessionConfig: object\nredirect: string 连接成功后的跳转参数，如果是Telegram中的Mini App，这里可以设置为Telegram的deeplink: \"tg://resolve\"\n返回值\nPromise\n<SessionTypes.Struct | undefined>\ntopic: string; 会话标识；\nnamespaces:\nRecord<string, Namespace>\n; 成功连接的namespace 信息\nchains: string[]; 连接的链信息\naccounts: string[]; 连接的账户信息\nmethods: string[]; 当前namespace下，钱包支持的方法\ndefaultChain?: string; 当前会话的默认链\nsessionConfig?: SessionConfig\ndappInfo: object DApp 信息\nname:string\nicon:string\nredirect?:string, 连接成功后的跳转参数\n示例\nvar\nsession\n=\nawait\nokxUniversalProvider\n.\nconnect\n(\n{\nnamespaces\n:\n{\nbtc\n:\n{\nchains\n:\n[\n\"btc:mainnet\"\n,\n// \"fractal:mainnet\"\n]\n,\n}\n}\n,\nsessionConfig\n:\n{\nredirect\n:\n\"tg://resolve\"\n}\n}\n)\n判断钱包是否已连接\n#\n获取当前是否有连接钱包\n返回值\nboolean\n示例\nokxUniversalProvider\n.\nconnected\n(\n)\n准备交易\n#\n首先创建一个OKXBtcProvider对象，构造函数传入OKXUniversalProvider\nimport\n{\nOKXBtcProvider\n}\nfrom\n\"@okxconnect/universal-provider\"\n;\nlet\nokxBtcProvider\n=\nnew\nOKXBtcProvider\n(\nokxUniversalProvider\n)\n获取账户信息\n#\nokxBtcProvider.getAccount(chainId);\n请求参数\nchainId: 请求的链，如btc:mainnet, fractal:mainnet\n返回值\nObject\naddress: string 钱包地址\npublicKey: string 公钥\n示例\nlet\nresult\n=\nokxBtcProvider\n.\ngetAccount\n(\n\"btc:mainnet\"\n)\n//返回结构\n{\n\"address\"\n:\n\"038936b367d47b3796b430a31694320918afdc458d81dea9bb7dd35c0aad8bc694\"\n,\n\"publicKey\"\n:\n\"03cbaedc26f03fd3ba02fc936f338e980c9e2172c5e23128877ed46827e935296f\"\n}\n签名\nokxBtcProvider.signMessage(chain, message, type?)\n请求参数\nchain - string, 请求执行方法的链\nsignStr - string 需要签名的消息\ntype - (可选) \"ecdsa\" | \"bip322-simple\"，默认值是 \"ecdsa\"\n返回值\nPromise - string: 签名结果\n示例\nlet\nchain\n=\n\"btc:mainnet\"\nlet\nsignStr\n=\n\"data need to sign ...\"\nlet\nresult\n=\nokxBtcProvider\n.\nsignMessage\n(\nchain\n,\nsignStr\n)\n//返回结构: \"H83jZpulbMDDGUiTA4M8QNChmWwaKxwPCm8U5EBvftKlSMMzuvtVxBHlygtof5NBbdSVPiAtCvOUwZmz2vViHHU=\"\n发送Bitcoin\n#\nokxBtcProvider.sendBitcoin(chainId, toAddress, satoshis, options)\n请求参数\nchainId - string, 请求签名执行的链，必传参数，如btc:mainnet\ntoAddress - string, string, 接收的地址\nsatoshis - number, 发送的聪数量\noptions - Object (可选)\nfeeRate - number (可选) 自定义费率\n返回值\nPromise - string 交易哈希\n示例\nlet\nchain\n=\n\"btc:mainnet\"\nlet\ntoAddress\n=\n'1NKnZ3uAuQLnmE...4u1efwCgTiAxBn'\nlet\nsatoshis\n=\n17000\nlet\noptions\n=\n{\nfeeRate\n:\n16\n}\nlet\nresult\n=\nokxBtcProvider\n.\nsendBitcoin\n(\nchain\n,\ntoAddress\n,\nsatoshis\n,\noptions\n)\n/**\n返回结构:\n\"ff18d01ef6abed3b7fd23247a1fc457ca...f49b6bb4529a19a5fb637f18ce2e\"\n*/\nsignPsbt\n#\nokxBtcProvider.signPsbt(chainId, psbtHex, options)\n请求参数\nchain - string, 请求签名执行的链，必传参数，如btc:mainnet\npsbtHex - string, 要签名的 psbt 的十六进制字符串\noptions:\nautoFinalized - boolean：签名后是否完成 psbt，默认为 true\ntoSignInputs - array：\nindex - number：要签名的输入\naddress - string：用于签名的相应私钥所对应的地址\npublicKey - string：用于签名的相应私钥所对应的公钥\nsighashTypes - number[]： (可选) sighashTypes\ndisableTweakSigner - boolean： (可选) 签名和解锁 Taproot 地址时， 默认使用 tweakSigner 来生成签名，启用此选项允许使用原始私钥进行签名\n返回值\nPromise - string 已签名psbt的十六进制字符串\n示例\nlet\nchain\n=\n\"btc:mainnet\"\nlet\npsbtHex\n=\n\"\"\nlet\noptions\n=\n{\nautoFinalized\n:\nfalse\n}\nlet\nresult\n=\nokxBtcProvider\n.\nsignPsbt\n(\nchain\n,\npsbtHex\n,\noptions\n)\n/**\n返回结构:\n\"cHNidP8BAP0GAQIAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAA/////yjWH1Uvx225V01diYYZ2i5jVAORF4nLWUWCg5bBaLQwAAAAAAD/////AwEAAAAAAAAAIlEgwSVNrUCq6hIeU+DOwJmGNi9s1CInltGUjJR5GzUoHLUBAAAAAAAAACJRIMElTa1AquoSHlPgzsCZhjYvbNQiJ5bRlIyUeRs1KBy1AIb9jA0AAAAiUSDwUTBk/h5bXDG+3/Q7lD8vEhHRSrKJFockGxONIUiI4wAAAAAAAQErAQAAAAAAAAAiUSDBJU2tQKrqEh5T4M7AmYY2L2zUIieW0ZSMlHkbNSgctQETQD9magM5RHYbdRd4KZ70FfVEAW5hw3rLjrocWIyn2Gi2P2c6Gri0E/S/wREhgjM8u5zQ3GrpcSaC8KhCRxBq5/oBFyANVBOudKlTUiKevmZzGqdVcp6Y8XbMOTfPV03fEyLOFgABASsBAAAAAAAAACJRIMElTa1AquoSHlPgzsCZhjYvbNQiJ5bRlIyUeRs1KBy1ARNA83DNEJj5u/mgUoOhCWL07enXpb6RX/WfEBh97tyrXLlA/e0CowU1fpgrKn+PQ+9Z/5/EXGwcr1UkYaqBJ0ZpKQEXIA1UE650qVNSIp6+ZnMap1Vynpjxdsw5N89XTd8TIs4WAAEBK+gDAAAAAAAAIlEg8FEwZP4eW1wxvt/0O5Q/LxIR0UqyiRaHJBsTjSFIiOMBAwSDAAAAARNBZcHpcb6YDNWF+eIcFckjF1c8C83uRmEhS/8jJQOBFkIQol8hBCTYXOFAaeu6/4o2MsS20iITiM/rAOAOBZkXC4MBFyANVBOudKlTUiKevmZzGqdVcp6Y8XbMOTfPV03fEyLOFgABBSBhbicyOEDuDCrkNNmYJn+BFwmIupR3943NAPwkeifbQAABBSBhbicyOEDuDCrkNNmYJn+BFwmIupR3943NAPwkeifbQAABBSCJNrNn1Hs3lrQwoxaUMgkYr9xFjYHeqbt901wKrYvGlAA=\"\n*/\nsignPsbts\n#\nokxBtcProvider.signPsbts(chainId, psbtHexs, options)\n请求参数\nchainId - string, 请求签名执行的链，必传参数，如btc:mainnet\npsbtHex - string[], 要签名的 psbt 的十六进制字符串\noptions - object[]\nautoFinalized - boolean：签名后是否完成 psbt，默认为 true\ntoSignInputs - array：\nindex - number：要签名的输入\naddress - string：用于签名的相应私钥所对应的地址\npublicKey - string：用于签名的相应私钥所对应的公钥\nsighashTypes - number[]： (可选) sighashTypes\ndisableTweakSigner - boolean： (可选) 签名和解锁 Taproot 地址时， 默认使用 tweakSigner 来生成签名，启用此选项允许使用原始私钥进行签名\n返回值\nPromise - string[] 已签名 psbt 的十六进制字符串\n示例\nlet\nchain\n=\n\"btc:mainnet\"\nlet\npsbtHexs\n=\n[\n\"\"\n]\nlet\noptions\n=\n[\n{\nautoFinalized\n:\nfalse\n}\n]\nlet\nresult\n=\nokxBtcProvider\n.\nsignPsbts\n(\nchain\n,\npsbtHexs\n,\noptions\n)\n/**\n返回结构:\n[\"cHNidP8BAP0GAQIAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAA/////yjWH1Uvx225V01diYYZ2i5jVAORF4nLWUWCg5bBaLQwAAAAAAD/////AwEAAAAAAAAAIlEgwSVNrUCq6hIeU+DOwJmGNi9s1CInltGUjJR5GzUoHLUBAAAAAAAAACJRIMElTa1AquoSHlPgzsCZhjYvbNQiJ5bRlIyUeRs1KBy1AIb9jA0AAAAiUSDwUTBk/h5bXDG+3/Q7lD8vEhHRSrKJFockGxONIUiI4wAAAAAAAQErAQAAAAAAAAAiUSDBJU2tQKrqEh5T4M7AmYY2L2zUIieW0ZSMlHkbNSgctQETQD9magM5RHYbdRd4KZ70FfVEAW5hw3rLjrocWIyn2Gi2P2c6Gri0E/S/wREhgjM8u5zQ3GrpcSaC8KhCRxBq5/oBFyANVBOudKlTUiKevmZzGqdVcp6Y8XbMOTfPV03fEyLOFgABASsBAAAAAAAAACJRIMElTa1AquoSHlPgzsCZhjYvbNQiJ5bRlIyUeRs1KBy1ARNA83DNEJj5u/mgUoOhCWL07enXpb6RX/WfEBh97tyrXLlA/e0CowU1fpgrKn+PQ+9Z/5/EXGwcr1UkYaqBJ0ZpKQEXIA1UE650qVNSIp6+ZnMap1Vynpjxdsw5N89XTd8TIs4WAAEBK+gDAAAAAAAAIlEg8FEwZP4eW1wxvt/0O5Q/LxIR0UqyiRaHJBsTjSFIiOMBAwSDAAAAARNBZcHpcb6YDNWF+eIcFckjF1c8C83uRmEhS/8jJQOBFkIQol8hBCTYXOFAaeu6/4o2MsS20iITiM/rAOAOBZkXC4MBFyANVBOudKlTUiKevmZzGqdVcp6Y8XbMOTfPV03fEyLOFgABBSBhbicyOEDuDCrkNNmYJn+BFwmIupR3943NAPwkeifbQAABBSBhbicyOEDuDCrkNNmYJn+BFwmIupR3943NAPwkeifbQAABBSCJNrNn1Hs3lrQwoxaUMgkYr9xFjYHeqbt901wKrYvGlAA=\"]\n*/\n签名且广播 signAndPushPsbt\n#\nApp required: >= 6.93.0\nokxBtcProvider.signAndPushPsbt(chainId, psbtHex, options)\n请求参数\nchain - string, 请求签名执行的链，必传参数，如btc:mainnet\npsbtHex - string, 要签名的 psbt 的十六进制字符串\noptions: - object\nautoFinalized - boolean：签名后是否完成 psbt，默认为 true\ntoSignInputs - array：\nindex - number：要签名的输入\naddress - string：用于签名的相应私钥所对应的地址\npublicKey - string：用于签名的相应私钥所对应的公钥\nsighashTypes - number[]： (可选) sighashTypes\ndisableTweakSigner - boolean： (可选) 签名和解锁 Taproot 地址时， 默认使用 tweakSigner 来生成签名，启用此选项允许使用原始私钥进行签名\n返回值\nPromise - object\ntxhash 交易hash\nsignature 已签名 psbt 的十六进制字符串\n示例\nlet\nchain\n=\n\"btc:mainnet\"\nlet\npsbtHex\n=\n\"\"\nlet\noptions\n=\n{\nautoFinalized\n:\nfalse\n}\nlet\nresult\n=\nokxBtcProvider\n.\nsignAndPushPsbt\n(\nchain\n,\npsbtHex\n,\noptions\n)\n/**\n 返回结构:\n{\ntxhash: \"\",\n signature: \"\"\n}\n*/\n断开钱包连接\n#\n断开已连接钱包,并删除当前会话,如果要切换连接钱包,请先断开当前钱包\nokxUniversalProvider\n.\ndisconnect\n(\n)\nEvent事件\n#\n// 生成 universalLink\nokxUniversalProvider\n.\non\n(\n\"display_uri\"\n,\n(\nuri\n)\n=>\n{\nconsole\n.\nlog\n(\nuri\n)\n;\n}\n)\n;\n// session 信息变更会触发该事件；\nokxUniversalProvider\n.\non\n(\n\"session_update\"\n,\n(\nsession\n)\n=>\n{\nconsole\n.\nlog\n(\nJSON\n.\nstringify\n(\nsession\n)\n)\n;\n}\n)\n;\n// 断开连接会触发该事件；\nokxUniversalProvider\n.\non\n(\n\"session_delete\"\n,\n(\n{\ntopic\n}\n)\n=>\n{\nconsole\n.\nlog\n(\ntopic\n)\n;\n}\n)\n;\n错误码\n#\n在连接，交易，断开连接的过程中可能抛出的异常;\n异常\n错误码\n描述\nOKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR\n未知异常\nOKX_CONNECT_ERROR_CODES.ALREADY_CONNECTED_ERROR\n钱包已连接\nOKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR\n钱包未连接\nOKX_CONNECT_ERROR_CODES.USER_REJECTS_ERROR\n用户拒绝\nOKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED\n方法不支持\nOKX_CONNECT_ERROR_CODES.CHAIN_NOT_SUPPORTED\n链不支持\nOKX_CONNECT_ERROR_CODES.WALLET_NOT_SUPPORTED\n钱包不支持\nOKX_CONNECT_ERROR_CODES.CONNECTION_ERROR\n连接异常\nexport\nenum\nOKX_CONNECT_ERROR_CODES\n{\nUNKNOWN_ERROR\n=\n0\n,\nALREADY_CONNECTED_ERROR\n=\n11\n,\nNOT_CONNECTED_ERROR\n=\n12\n,\nUSER_REJECTS_ERROR\n=\n300\n,\nMETHOD_NOT_SUPPORTED\n=\n400\n,\nCHAIN_NOT_SUPPORTED\n=\n500\n,\nWALLET_NOT_SUPPORTED\n=\n600\n,\nCONNECTION_ERROR\n=\n700\n}",
  "html": "<div class=\"routes_md__xWlGF\"><!--$--><h1 id=\"sdk\">SDK<a class=\"index_header-anchor__Xqb+L\" href=\"#sdk\" style=\"opacity:0\">#</a></h1>\n<h2 data-content=\"安装及初始化\" id=\"安装及初始化\">安装及初始化<a class=\"index_header-anchor__Xqb+L\" href=\"#安装及初始化\" style=\"opacity:0\">#</a></h2>\n<p>请确保更新到 6.92.0或以后版本，即可开始接入：将 OKX Connect 集成到您的 DApp 中，可以使用 npm:</p>\n<div class=\"remark-highlight\"><pre class=\"language-unknown\"><code class=\"language-unknown\">npm install @okxconnect/universal-provider</code></pre></div>\n<p>连接钱包之前，需要先创建一个对象，用于后续连接钱包、发送交易等操作。</p>\n<div class=\"remark-highlight\"><pre class=\"language-unknown\"><code class=\"language-unknown\">OKXUniversalProvider.init({dappMetaData: {name, icon}})</code></pre></div>\n<p><strong>请求参数</strong></p>\n<ul>\n<li>dappMetaData - object<!-- -->\n<ul>\n<li>name - string: 应用名称，不会作为唯一表示</li>\n<li>icon - string: 应用图标的 URL。必须是 PNG、ICO 等格式，不支持 SVG 图标。最好传递指向 180x180px PNG 图标的 url。</li>\n</ul>\n</li>\n</ul>\n<p><strong>返回值</strong></p>\n<ul>\n<li>OKXUniversalProvider</li>\n</ul>\n<p><strong>示例</strong></p>\n<div class=\"remark-highlight\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> OKXUniversalProvider <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"@okxconnect/universal-provider\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> okxUniversalProvider <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> OKXUniversalProvider<span class=\"token punctuation\">.</span><span class=\"token function\">init</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    dappMetaData<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        name<span class=\"token operator\">:</span> <span class=\"token string\">\"application name\"</span><span class=\"token punctuation\">,</span>\n        icon<span class=\"token operator\">:</span> <span class=\"token string\">\"application icon url\"</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n</code></pre></div>\n<h2 data-content=\"连接钱包\" id=\"连接钱包\">连接钱包<a class=\"index_header-anchor__Xqb+L\" href=\"#连接钱包\" style=\"opacity:0\">#</a></h2>\n<p>连接钱包去获取钱包地址，作为标识符和用于签名交易的必要参数</p>\n<p><code>okxUniversalProvider.connect(connectParams: ConnectParams);</code></p>\n<p><strong>请求参数</strong></p>\n<ul>\n<li>connectParams - ConnectParams<!-- -->\n<ul>\n<li>namespaces - [namespace: string]: ConnectNamespace ; 请求连接的可选信息， EVM系的key为\"eip155\"，BTC系的key为\"btc\"，如果请求的链中，有任何一个链钱包不支持的话，钱包会拒绝连接<!-- -->\n<ul>\n<li>chains: string[]; 链id信息,</li>\n<li>defaultChain?: string; 默认链</li>\n</ul>\n</li>\n<li>optionalNamespaces - [namespace: string]: ConnectNamespace; 请求连接的可选信息， EVM系的key为\"eip155\"，BTC系的key为\"btc\"，如果对应的链信息钱包不支持，依然可以连接<!-- -->\n<ul>\n<li>chains: string[]; 链id信息</li>\n<li>defaultChain?: string; 默认链</li>\n</ul>\n</li>\n<li>sessionConfig: object<!-- -->\n<ul>\n<li>redirect: string 连接成功后的跳转参数，如果是Telegram中的Mini App，这里可以设置为Telegram的deeplink: \"tg://resolve\"</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p><strong>返回值</strong></p>\n<ul>\n<li>Promise<code>&lt;SessionTypes.Struct | undefined&gt;</code>\n<ul>\n<li>topic: string; 会话标识；</li>\n<li>namespaces: <code>Record&lt;string, Namespace&gt;</code>; 成功连接的namespace 信息<!-- -->\n<ul>\n<li>chains: string[]; 连接的链信息</li>\n<li>accounts: string[]; 连接的账户信息</li>\n<li>methods: string[]; 当前namespace下，钱包支持的方法</li>\n<li>defaultChain?: string; 当前会话的默认链</li>\n</ul>\n</li>\n<li>sessionConfig?: SessionConfig<!-- -->\n<ul>\n<li>dappInfo: object DApp 信息<!-- -->\n<ul>\n<li>name:string</li>\n<li>icon:string</li>\n</ul>\n</li>\n<li>redirect?:string, 连接成功后的跳转参数</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p><strong>示例</strong></p>\n<div class=\"remark-highlight\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">var</span> session <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> okxUniversalProvider<span class=\"token punctuation\">.</span><span class=\"token function\">connect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    namespaces<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        btc<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n            chains<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n                <span class=\"token string\">\"btc:mainnet\"</span><span class=\"token punctuation\">,</span>\n                  <span class=\"token comment\">// \"fractal:mainnet\"</span>\n            <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    sessionConfig<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        redirect<span class=\"token operator\">:</span> <span class=\"token string\">\"tg://resolve\"</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n</code></pre></div>\n<h2 data-content=\"判断钱包是否已连接\" id=\"判断钱包是否已连接\">判断钱包是否已连接<a class=\"index_header-anchor__Xqb+L\" href=\"#判断钱包是否已连接\" style=\"opacity:0\">#</a></h2>\n<p>获取当前是否有连接钱包</p>\n<p><strong>返回值</strong></p>\n<ul>\n<li>boolean</li>\n</ul>\n<p><strong>示例</strong></p>\n<div class=\"remark-highlight\"><pre class=\"language-typescript\"><code class=\"language-typescript\">okxUniversalProvider<span class=\"token punctuation\">.</span><span class=\"token function\">connected</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n</code></pre></div>\n<h2 data-content=\"准备交易\" id=\"准备交易\">准备交易<a class=\"index_header-anchor__Xqb+L\" href=\"#准备交易\" style=\"opacity:0\">#</a></h2>\n<p>首先创建一个OKXBtcProvider对象，构造函数传入OKXUniversalProvider</p>\n<div class=\"remark-highlight\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> OKXBtcProvider <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"@okxconnect/universal-provider\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">let</span> okxBtcProvider <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">OKXBtcProvider</span><span class=\"token punctuation\">(</span>okxUniversalProvider<span class=\"token punctuation\">)</span>\n</code></pre></div>\n<h2 data-content=\"获取账户信息\" id=\"获取账户信息\">获取账户信息<a class=\"index_header-anchor__Xqb+L\" href=\"#获取账户信息\" style=\"opacity:0\">#</a></h2>\n<div class=\"remark-highlight\"><pre class=\"language-unknown\"><code class=\"language-unknown\">okxBtcProvider.getAccount(chainId);</code></pre></div>\n<p><em><strong>请求参数</strong></em></p>\n<ul>\n<li>chainId: 请求的链，如btc:mainnet, fractal:mainnet</li>\n</ul>\n<p><em><strong>返回值</strong></em></p>\n<ul>\n<li>Object<!-- -->\n<ul>\n<li>address: string 钱包地址</li>\n<li>publicKey: string 公钥</li>\n</ul>\n</li>\n</ul>\n<p><em><strong>示例</strong></em></p>\n<div class=\"remark-highlight\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">let</span> result <span class=\"token operator\">=</span> okxBtcProvider<span class=\"token punctuation\">.</span><span class=\"token function\">getAccount</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"btc:mainnet\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">//返回结构</span>\n<span class=\"token punctuation\">{</span>\n    <span class=\"token string-property property\">\"address\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"038936b367d47b3796b430a31694320918afdc458d81dea9bb7dd35c0aad8bc694\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string-property property\">\"publicKey\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"03cbaedc26f03fd3ba02fc936f338e980c9e2172c5e23128877ed46827e935296f\"</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p><strong>签名</strong></p>\n<div class=\"remark-highlight\"><pre class=\"language-unknown\"><code class=\"language-unknown\">okxBtcProvider.signMessage(chain, message, type?)</code></pre></div>\n<p><em><strong>请求参数</strong></em></p>\n<ul>\n<li>chain - string, 请求执行方法的链</li>\n<li>signStr - string 需要签名的消息</li>\n<li>type -  (可选) \"ecdsa\" | \"bip322-simple\"，默认值是 \"ecdsa\"</li>\n</ul>\n<p><em><strong>返回值</strong></em></p>\n<ul>\n<li>Promise - string: 签名结果</li>\n</ul>\n<p><em><strong>示例</strong></em></p>\n<div class=\"remark-highlight\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">let</span> chain <span class=\"token operator\">=</span> <span class=\"token string\">\"btc:mainnet\"</span>\n<span class=\"token keyword\">let</span> signStr <span class=\"token operator\">=</span> <span class=\"token string\">\"data need to sign ...\"</span>\n\n<span class=\"token keyword\">let</span> result <span class=\"token operator\">=</span> okxBtcProvider<span class=\"token punctuation\">.</span><span class=\"token function\">signMessage</span><span class=\"token punctuation\">(</span>chain<span class=\"token punctuation\">,</span> signStr<span class=\"token punctuation\">)</span>\n<span class=\"token comment\">//返回结构: \"H83jZpulbMDDGUiTA4M8QNChmWwaKxwPCm8U5EBvftKlSMMzuvtVxBHlygtof5NBbdSVPiAtCvOUwZmz2vViHHU=\"</span>\n</code></pre></div>\n<h2 data-content=\"发送Bitcoin\" id=\"发送bitcoin\">发送Bitcoin<a class=\"index_header-anchor__Xqb+L\" href=\"#发送bitcoin\" style=\"opacity:0\">#</a></h2>\n<div class=\"remark-highlight\"><pre class=\"language-unknown\"><code class=\"language-unknown\">okxBtcProvider.sendBitcoin(chainId, toAddress, satoshis, options)</code></pre></div>\n<p><em><strong>请求参数</strong></em></p>\n<ul>\n<li>chainId - string, 请求签名执行的链，必传参数，如btc:mainnet</li>\n<li>toAddress - string, string, 接收的地址</li>\n<li>satoshis - number, 发送的聪数量</li>\n<li>options - Object  (可选)<!-- -->\n<ul>\n<li>feeRate - number (可选) 自定义费率</li>\n</ul>\n</li>\n</ul>\n<p><em><strong>返回值</strong></em></p>\n<ul>\n<li>Promise - string 交易哈希</li>\n</ul>\n<p><em><strong>示例</strong></em></p>\n<div class=\"remark-highlight\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">let</span> chain <span class=\"token operator\">=</span> <span class=\"token string\">\"btc:mainnet\"</span>\n<span class=\"token keyword\">let</span> toAddress <span class=\"token operator\">=</span> <span class=\"token string\">'1NKnZ3uAuQLnmE...4u1efwCgTiAxBn'</span>\n<span class=\"token keyword\">let</span> satoshis <span class=\"token operator\">=</span> <span class=\"token number\">17000</span>\n<span class=\"token keyword\">let</span> options <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    feeRate<span class=\"token operator\">:</span> <span class=\"token number\">16</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">let</span> result <span class=\"token operator\">=</span> okxBtcProvider<span class=\"token punctuation\">.</span><span class=\"token function\">sendBitcoin</span><span class=\"token punctuation\">(</span>chain<span class=\"token punctuation\">,</span> toAddress<span class=\"token punctuation\">,</span> satoshis<span class=\"token punctuation\">,</span> options<span class=\"token punctuation\">)</span>\n\n<span class=\"token doc-comment comment\">/**</span>\n<span class=\"token doc-comment comment\">    返回结构:</span>\n<span class=\"token doc-comment comment\">    \"ff18d01ef6abed3b7fd23247a1fc457ca...f49b6bb4529a19a5fb637f18ce2e\"</span>\n<span class=\"token doc-comment comment\"> */</span>\n</code></pre></div>\n<h2 data-content=\"signPsbt\" id=\"signpsbt\">signPsbt<a class=\"index_header-anchor__Xqb+L\" href=\"#signpsbt\" style=\"opacity:0\">#</a></h2>\n<div class=\"remark-highlight\"><pre class=\"language-unknown\"><code class=\"language-unknown\">okxBtcProvider.signPsbt(chainId, psbtHex, options)</code></pre></div>\n<p><em><strong>请求参数</strong></em></p>\n<ul>\n<li>chain - string, 请求签名执行的链，必传参数，如btc:mainnet</li>\n<li>psbtHex - string, 要签名的 psbt 的十六进制字符串</li>\n<li>options:<!-- -->\n<ul>\n<li>autoFinalized - boolean：签名后是否完成 psbt，默认为 true</li>\n<li>toSignInputs - array：<!-- -->\n<ul>\n<li>index - number：要签名的输入</li>\n<li>address - string：用于签名的相应私钥所对应的地址</li>\n<li>publicKey - string：用于签名的相应私钥所对应的公钥</li>\n<li>sighashTypes - number[]： (可选) sighashTypes</li>\n<li>disableTweakSigner - boolean： (可选) 签名和解锁 Taproot 地址时， 默认使用 tweakSigner 来生成签名，启用此选项允许使用原始私钥进行签名</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p><em><strong>返回值</strong></em></p>\n<ul>\n<li>Promise - string 已签名psbt的十六进制字符串</li>\n</ul>\n<p><em><strong>示例</strong></em></p>\n<div class=\"remark-highlight\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">let</span> chain <span class=\"token operator\">=</span> <span class=\"token string\">\"btc:mainnet\"</span>\n<span class=\"token keyword\">let</span> psbtHex <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span>\n<span class=\"token keyword\">let</span> options <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> autoFinalized<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span> <span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">let</span> result <span class=\"token operator\">=</span> okxBtcProvider<span class=\"token punctuation\">.</span><span class=\"token function\">signPsbt</span><span class=\"token punctuation\">(</span>chain<span class=\"token punctuation\">,</span> psbtHex<span class=\"token punctuation\">,</span> options<span class=\"token punctuation\">)</span>\n\n<span class=\"token doc-comment comment\">/**</span>\n<span class=\"token doc-comment comment\">    返回结构:</span>\n<span class=\"token doc-comment comment\">    \"cHNidP8BAP0GAQIAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAA/////yjWH1Uvx225V01diYYZ2i5jVAORF4nLWUWCg5bBaLQwAAAAAAD/////AwEAAAAAAAAAIlEgwSVNrUCq6hIeU+DOwJmGNi9s1CInltGUjJR5GzUoHLUBAAAAAAAAACJRIMElTa1AquoSHlPgzsCZhjYvbNQiJ5bRlIyUeRs1KBy1AIb9jA0AAAAiUSDwUTBk/h5bXDG+3/Q7lD8vEhHRSrKJFockGxONIUiI4wAAAAAAAQErAQAAAAAAAAAiUSDBJU2tQKrqEh5T4M7AmYY2L2zUIieW0ZSMlHkbNSgctQETQD9magM5RHYbdRd4KZ70FfVEAW5hw3rLjrocWIyn2Gi2P2c6Gri0E/S/wREhgjM8u5zQ3GrpcSaC8KhCRxBq5/oBFyANVBOudKlTUiKevmZzGqdVcp6Y8XbMOTfPV03fEyLOFgABASsBAAAAAAAAACJRIMElTa1AquoSHlPgzsCZhjYvbNQiJ5bRlIyUeRs1KBy1ARNA83DNEJj5u/mgUoOhCWL07enXpb6RX/WfEBh97tyrXLlA/e0CowU1fpgrKn+PQ+9Z/5/EXGwcr1UkYaqBJ0ZpKQEXIA1UE650qVNSIp6+ZnMap1Vynpjxdsw5N89XTd8TIs4WAAEBK+gDAAAAAAAAIlEg8FEwZP4eW1wxvt/0O5Q/LxIR0UqyiRaHJBsTjSFIiOMBAwSDAAAAARNBZcHpcb6YDNWF+eIcFckjF1c8C83uRmEhS/8jJQOBFkIQol8hBCTYXOFAaeu6/4o2MsS20iITiM/rAOAOBZkXC4MBFyANVBOudKlTUiKevmZzGqdVcp6Y8XbMOTfPV03fEyLOFgABBSBhbicyOEDuDCrkNNmYJn+BFwmIupR3943NAPwkeifbQAABBSBhbicyOEDuDCrkNNmYJn+BFwmIupR3943NAPwkeifbQAABBSCJNrNn1Hs3lrQwoxaUMgkYr9xFjYHeqbt901wKrYvGlAA=\"</span>\n<span class=\"token doc-comment comment\"> */</span>\n</code></pre></div>\n<h2 data-content=\"signPsbts\" id=\"signpsbts\">signPsbts<a class=\"index_header-anchor__Xqb+L\" href=\"#signpsbts\" style=\"opacity:0\">#</a></h2>\n<div class=\"remark-highlight\"><pre class=\"language-unknown\"><code class=\"language-unknown\">okxBtcProvider.signPsbts(chainId, psbtHexs, options)</code></pre></div>\n<p><em><strong>请求参数</strong></em></p>\n<ul>\n<li>chainId - string, 请求签名执行的链，必传参数，如btc:mainnet</li>\n<li>psbtHex - string[], 要签名的 psbt 的十六进制字符串</li>\n<li>options - object[]<!-- -->\n<ul>\n<li>autoFinalized - boolean：签名后是否完成 psbt，默认为 true</li>\n<li>toSignInputs - array：<!-- -->\n<ul>\n<li>index - number：要签名的输入</li>\n<li>address - string：用于签名的相应私钥所对应的地址</li>\n<li>publicKey - string：用于签名的相应私钥所对应的公钥</li>\n<li>sighashTypes - number[]： (可选) sighashTypes</li>\n<li>disableTweakSigner - boolean： (可选) 签名和解锁 Taproot 地址时， 默认使用 tweakSigner 来生成签名，启用此选项允许使用原始私钥进行签名</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p><em><strong>返回值</strong></em></p>\n<ul>\n<li>Promise - string[] 已签名 psbt 的十六进制字符串</li>\n</ul>\n<p><em><strong>示例</strong></em></p>\n<div class=\"remark-highlight\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">let</span> chain <span class=\"token operator\">=</span> <span class=\"token string\">\"btc:mainnet\"</span>\n<span class=\"token keyword\">let</span> psbtHexs <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">]</span>\n<span class=\"token keyword\">let</span> options <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span> autoFinalized<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span>\n<span class=\"token keyword\">let</span> result <span class=\"token operator\">=</span> okxBtcProvider<span class=\"token punctuation\">.</span><span class=\"token function\">signPsbts</span><span class=\"token punctuation\">(</span>chain<span class=\"token punctuation\">,</span> psbtHexs<span class=\"token punctuation\">,</span> options<span class=\"token punctuation\">)</span>\n\n<span class=\"token doc-comment comment\">/**</span>\n<span class=\"token doc-comment comment\">    返回结构:</span>\n<span class=\"token doc-comment comment\">    [\"cHNidP8BAP0GAQIAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAA/////yjWH1Uvx225V01diYYZ2i5jVAORF4nLWUWCg5bBaLQwAAAAAAD/////AwEAAAAAAAAAIlEgwSVNrUCq6hIeU+DOwJmGNi9s1CInltGUjJR5GzUoHLUBAAAAAAAAACJRIMElTa1AquoSHlPgzsCZhjYvbNQiJ5bRlIyUeRs1KBy1AIb9jA0AAAAiUSDwUTBk/h5bXDG+3/Q7lD8vEhHRSrKJFockGxONIUiI4wAAAAAAAQErAQAAAAAAAAAiUSDBJU2tQKrqEh5T4M7AmYY2L2zUIieW0ZSMlHkbNSgctQETQD9magM5RHYbdRd4KZ70FfVEAW5hw3rLjrocWIyn2Gi2P2c6Gri0E/S/wREhgjM8u5zQ3GrpcSaC8KhCRxBq5/oBFyANVBOudKlTUiKevmZzGqdVcp6Y8XbMOTfPV03fEyLOFgABASsBAAAAAAAAACJRIMElTa1AquoSHlPgzsCZhjYvbNQiJ5bRlIyUeRs1KBy1ARNA83DNEJj5u/mgUoOhCWL07enXpb6RX/WfEBh97tyrXLlA/e0CowU1fpgrKn+PQ+9Z/5/EXGwcr1UkYaqBJ0ZpKQEXIA1UE650qVNSIp6+ZnMap1Vynpjxdsw5N89XTd8TIs4WAAEBK+gDAAAAAAAAIlEg8FEwZP4eW1wxvt/0O5Q/LxIR0UqyiRaHJBsTjSFIiOMBAwSDAAAAARNBZcHpcb6YDNWF+eIcFckjF1c8C83uRmEhS/8jJQOBFkIQol8hBCTYXOFAaeu6/4o2MsS20iITiM/rAOAOBZkXC4MBFyANVBOudKlTUiKevmZzGqdVcp6Y8XbMOTfPV03fEyLOFgABBSBhbicyOEDuDCrkNNmYJn+BFwmIupR3943NAPwkeifbQAABBSBhbicyOEDuDCrkNNmYJn+BFwmIupR3943NAPwkeifbQAABBSCJNrNn1Hs3lrQwoxaUMgkYr9xFjYHeqbt901wKrYvGlAA=\"]</span>\n<span class=\"token doc-comment comment\"> */</span>\n</code></pre></div>\n<h2 data-content=\"签名且广播 signAndPushPsbt\" id=\"签名且广播-signandpushpsbt\">签名且广播 signAndPushPsbt<a class=\"index_header-anchor__Xqb+L\" href=\"#签名且广播-signandpushpsbt\" style=\"opacity:0\">#</a></h2>\n<blockquote>\n<p>App required: &gt;= 6.93.0</p>\n</blockquote>\n<div class=\"remark-highlight\"><pre class=\"language-unknown\"><code class=\"language-unknown\">okxBtcProvider.signAndPushPsbt(chainId, psbtHex, options)</code></pre></div>\n<p><em><strong>请求参数</strong></em></p>\n<ul>\n<li>chain - string, 请求签名执行的链，必传参数，如btc:mainnet</li>\n<li>psbtHex - string, 要签名的 psbt 的十六进制字符串</li>\n<li>options: - object<!-- -->\n<ul>\n<li>autoFinalized - boolean：签名后是否完成 psbt，默认为 true</li>\n<li>toSignInputs - array：<!-- -->\n<ul>\n<li>index - number：要签名的输入</li>\n<li>address - string：用于签名的相应私钥所对应的地址</li>\n<li>publicKey - string：用于签名的相应私钥所对应的公钥</li>\n<li>sighashTypes - number[]： (可选) sighashTypes</li>\n<li>disableTweakSigner - boolean： (可选) 签名和解锁 Taproot 地址时， 默认使用 tweakSigner 来生成签名，启用此选项允许使用原始私钥进行签名</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p><em><strong>返回值</strong></em></p>\n<ul>\n<li>Promise - object<!-- -->\n<ul>\n<li>txhash 交易hash</li>\n<li>signature 已签名 psbt 的十六进制字符串</li>\n</ul>\n</li>\n</ul>\n<p><em><strong>示例</strong></em></p>\n<div class=\"remark-highlight\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">let</span> chain <span class=\"token operator\">=</span> <span class=\"token string\">\"btc:mainnet\"</span>\n<span class=\"token keyword\">let</span> psbtHex <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span>\n<span class=\"token keyword\">let</span> options <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> autoFinalized<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span> <span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">let</span> result <span class=\"token operator\">=</span> okxBtcProvider<span class=\"token punctuation\">.</span><span class=\"token function\">signAndPushPsbt</span><span class=\"token punctuation\">(</span>chain<span class=\"token punctuation\">,</span> psbtHex<span class=\"token punctuation\">,</span> options<span class=\"token punctuation\">)</span>\n\n<span class=\"token doc-comment comment\">/**\n    返回结构:\n    <span class=\"token punctuation\">{</span>\n        txhash: \"\",\n        signature: \"\"\n    <span class=\"token punctuation\">}</span>\n */</span>\n</code></pre></div>\n<h2 data-content=\"断开钱包连接\" id=\"断开钱包连接\">断开钱包连接<a class=\"index_header-anchor__Xqb+L\" href=\"#断开钱包连接\" style=\"opacity:0\">#</a></h2>\n<p>断开已连接钱包,并删除当前会话,如果要切换连接钱包,请先断开当前钱包</p>\n<div class=\"remark-highlight\"><pre class=\"language-typescript\"><code class=\"language-typescript\">okxUniversalProvider<span class=\"token punctuation\">.</span><span class=\"token function\">disconnect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n</code></pre></div>\n<h2 data-content=\"Event事件\" id=\"event事件\">Event事件<a class=\"index_header-anchor__Xqb+L\" href=\"#event事件\" style=\"opacity:0\">#</a></h2>\n<div class=\"remark-highlight\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token comment\">// 生成 universalLink</span>\nokxUniversalProvider<span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"display_uri\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span>uri<span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>uri<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// session 信息变更会触发该事件；</span>\nokxUniversalProvider<span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"session_update\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span>session<span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span>session<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// 断开连接会触发该事件；</span>\nokxUniversalProvider<span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"session_delete\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>topic<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>topic<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<h2 data-content=\"错误码\" id=\"错误码\">错误码<a class=\"index_header-anchor__Xqb+L\" href=\"#错误码\" style=\"opacity:0\">#</a></h2>\n<p>在连接，交易，断开连接的过程中可能抛出的异常;</p>\n<p><strong>异常</strong></p>\n<div class=\"index_table__kvZz5\"><table><thead><tr><th>错误码</th><th>描述</th></tr></thead><tbody><tr><td>OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR</td><td>未知异常</td></tr><tr><td>OKX_CONNECT_ERROR_CODES.ALREADY_CONNECTED_ERROR</td><td>钱包已连接</td></tr><tr><td>OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR</td><td>钱包未连接</td></tr><tr><td>OKX_CONNECT_ERROR_CODES.USER_REJECTS_ERROR</td><td>用户拒绝</td></tr><tr><td>OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED</td><td>方法不支持</td></tr><tr><td>OKX_CONNECT_ERROR_CODES.CHAIN_NOT_SUPPORTED</td><td>链不支持</td></tr><tr><td>OKX_CONNECT_ERROR_CODES.WALLET_NOT_SUPPORTED</td><td>钱包不支持</td></tr><tr><td>OKX_CONNECT_ERROR_CODES.CONNECTION_ERROR</td><td>连接异常</td></tr></tbody></table></div>\n<div class=\"remark-highlight\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">enum</span> <span class=\"token constant\">OKX_CONNECT_ERROR_CODES</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token constant\">UNKNOWN_ERROR</span> <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\n    <span class=\"token constant\">ALREADY_CONNECTED_ERROR</span> <span class=\"token operator\">=</span> <span class=\"token number\">11</span><span class=\"token punctuation\">,</span>\n    <span class=\"token constant\">NOT_CONNECTED_ERROR</span> <span class=\"token operator\">=</span> <span class=\"token number\">12</span><span class=\"token punctuation\">,</span>\n    <span class=\"token constant\">USER_REJECTS_ERROR</span> <span class=\"token operator\">=</span> <span class=\"token number\">300</span><span class=\"token punctuation\">,</span>\n    <span class=\"token constant\">METHOD_NOT_SUPPORTED</span> <span class=\"token operator\">=</span> <span class=\"token number\">400</span><span class=\"token punctuation\">,</span>\n    <span class=\"token constant\">CHAIN_NOT_SUPPORTED</span> <span class=\"token operator\">=</span> <span class=\"token number\">500</span><span class=\"token punctuation\">,</span>\n    <span class=\"token constant\">WALLET_NOT_SUPPORTED</span> <span class=\"token operator\">=</span> <span class=\"token number\">600</span><span class=\"token punctuation\">,</span>\n    <span class=\"token constant\">CONNECTION_ERROR</span> <span class=\"token operator\">=</span> <span class=\"token number\">700</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div><!--/$--></div>",
  "url": "https://web3.okx.com/zh-hans/build/dev-docs/sdks/app-connect-bitcoin-sdk#signpsbt",
  "navigation": {
    "breadcrumbs": [
      "DApp 连接钱包",
      "Bitcoin兼容链",
      "SDK"
    ],
    "sidebar_links": [
      "什么是连接钱包",
      "支持的网络",
      "接入前提",
      "EVM 兼容链",
      "Bitcoin 兼容链",
      "SDK",
      "UI",
      "Solana 兼容链",
      "TON",
      "SUI",
      "Aptos/Movement",
      "Cosmos 系/Sei",
      "Tron",
      "Starknet",
      "常见问题",
      "接入前提",
      "EVM 兼容链",
      "Bitcoin 兼容链",
      "Tron",
      "Solana 兼容链"
    ],
    "toc": [
      "安装及初始化",
      "连接钱包",
      "判断钱包是否已连接",
      "准备交易",
      "获取账户信息",
      "发送Bitcoin",
      "signPsbt",
      "signPsbts",
      "签名且广播 signAndPushPsbt",
      "断开钱包连接",
      "Event事件",
      "错误码"
    ]
  },
  "word_count": 816,
  "extract_time": "2025-05-27 06:58:05"
}