{
  "title": "Sui 示例 | DEX SDK  | 资源 | DEX API | DEX API 文档 | 欧易",
  "text": "Sui 示例\n#\n创建币种助手 (可忽略)\n#\n// Common tokens on Sui mainnet\nexport\nconst\nTOKENS\n=\n{\nSUI\n:\n\"0x2::sui::SUI\"\n,\nUSDC\n:\n\"0xdba34672e30cb065b1f93e3ab55318768fd6fef66c15942c9f7cb846e2f900e7::usdc::USDC\"\n}\nas\nconst\n;\n创建兑换指令\n#\n// swap.ts\nimport\n{\nclient\n}\nfrom\n'./DexClient'\n;\nimport\n{\nTOKENS\n}\nfrom\n'./Tokens'\n;\n// Optional, if you created the token helper\n/**\nExample: Execute a swap from SUI to USDC\n*/\nasync\nfunction\nexecuteSwap\n(\n)\n{\ntry\n{\nif\n(\n!\nprocess\n.\nenv\n.\nSUI_PRIVATE_KEY\n)\n{\nthrow\nnew\nError\n(\n'Missing SUI_PRIVATE_KEY in .env file'\n)\n;\n}\n// First, get token information using a quote\nconsole\n.\nlog\n(\n\"Getting token information...\"\n)\n;\nconst\nfromTokenAddress\n=\nTOKENS\n.\nSUI\n;\n// Or use directly: \"0x2::sui::SUI\"\nconst\ntoTokenAddress\n=\nTOKENS\n.\nUSDC\n;\n// Or use directly: \"0xdba34672e30cb065b1f93e3ab55318768fd6fef66c15942c9f7cb846e2f900e7::usdc::USDC\"\nconst\nquote\n=\nawait\nclient\n.\ndex\n.\ngetQuote\n(\n{\nchainId\n:\n'784'\n,\n// Sui chain ID\nfromTokenAddress\n,\ntoTokenAddress\n,\namount\n:\n'1000000'\n,\n// Small amount for quote\nslippage\n:\n'0.5'\n}\n)\n;\nconst\ntokenInfo\n=\n{\nfromToken\n:\n{\nsymbol\n:\nquote\n.\ndata\n[\n0\n]\n.\nfromToken\n.\ntokenSymbol\n,\ndecimals\n:\nparseInt\n(\nquote\n.\ndata\n[\n0\n]\n.\nfromToken\n.\ndecimal\n)\n,\nprice\n:\nquote\n.\ndata\n[\n0\n]\n.\nfromToken\n.\ntokenUnitPrice\n}\n,\ntoToken\n:\n{\nsymbol\n:\nquote\n.\ndata\n[\n0\n]\n.\ntoToken\n.\ntokenSymbol\n,\ndecimals\n:\nparseInt\n(\nquote\n.\ndata\n[\n0\n]\n.\ntoToken\n.\ndecimal\n)\n,\nprice\n:\nquote\n.\ndata\n[\n0\n]\n.\ntoToken\n.\ntokenUnitPrice\n}\n}\n;\n// Convert amount to base units\nconst\nhumanReadableAmount\n=\n1.5\n;\n// 1.5 SUI\nconst\nrawAmount\n=\n(\nhumanReadableAmount\n*\nMath\n.\npow\n(\n10\n,\ntokenInfo\n.\nfromToken\n.\ndecimals\n)\n)\n.\ntoString\n(\n)\n;\nconsole\n.\nlog\n(\n\"\\nSwap Details:\"\n)\n;\nconsole\n.\nlog\n(\n\"--------------------\"\n)\n;\nconsole\n.\nlog\n(\nFrom\n:\n$\n{\ntokenInfo\n.\nfromToken\n.\nsymbol\n}\n)\n;\nconsole\n.\nlog\n(\nTo\n:\n$\n{\ntokenInfo\n.\ntoToken\n.\nsymbol\n}\n)\n;\nconsole\n.\nlog\n(\nAmount\n:\n$\n{\nhumanReadableAmount\n}\n$\n{\ntokenInfo\n.\nfromToken\n.\nsymbol\n}\n)\n;\nconsole\n.\nlog\n(\nAmount\nin\nbase units\n:\n$\n{\nrawAmount\n}\n)\n;\nconsole\n.\nlog\n(\nApproximate\nUSD\nvalue\n:\n$$\n{\n(\nhumanReadableAmount\n*\nparseFloat\n(\ntokenInfo\n.\nfromToken\n.\nprice\n)\n)\n.\ntoFixed\n(\n2\n)\n}\n)\n;\n// Execute the swap\nconsole\n.\nlog\n(\n\"\\nExecuting swap...\"\n)\n;\nconst\nswapResult\n=\nawait\nclient\n.\ndex\n.\nexecuteSwap\n(\n{\nchainId\n:\n'784'\n,\n// Sui chain ID\nfromTokenAddress\n,\ntoTokenAddress\n,\namount\n:\nrawAmount\n,\nslippage\n:\n'0.5'\n,\n// 0.5% slippage\nuserWalletAddress\n:\nprocess\n.\nenv\n.\nSUI_WALLET_ADDRESS\n!\n}\n)\n;\nconsole\n.\nlog\n(\n'Swap executed successfully:'\n)\n;\nconsole\n.\nlog\n(\n\"\\nTransaction ID:\"\n,\nswapResult\n.\ntransactionId\n)\n;\nconsole\n.\nlog\n(\n\"Explorer URL:\"\n,\nswapResult\n.\nexplorerUrl\n)\n;\nif\n(\nswapResult\n.\ndetails\n)\n{\nconsole\n.\nlog\n(\n\"\\nDetails:\"\n)\n;\nconsole\n.\nlog\n(\nInput\n:\n$\n{\nswapResult\n.\ndetails\n.\nfromToken\n.\namount\n}\n$\n{\nswapResult\n.\ndetails\n.\nfromToken\n.\nsymbol\n}\n)\n;\nconsole\n.\nlog\n(\nOutput\n:\n$\n{\nswapResult\n.\ndetails\n.\ntoToken\n.\namount\n}\n$\n{\nswapResult\n.\ndetails\n.\ntoToken\n.\nsymbol\n}\n)\n;\nif\n(\nswapResult\n.\ndetails\n.\npriceImpact\n)\n{\nconsole\n.\nlog\n(\nPrice\nImpact\n:\n$\n{\nswapResult\n.\ndetails\n.\npriceImpact\n}\n%\n)\n;\n}\n}\nreturn\nswapResult\n;\n}\ncatch\n(\nerror\n)\n{\nif\n(\nerror\ninstanceof\nError\n)\n{\nconsole\n.\nerror\n(\n'Error executing swap:'\n,\nerror\n.\nmessage\n)\n;\n// API errors include details in the message\nif\n(\nerror\n.\nmessage\n.\nincludes\n(\n'API Error:'\n)\n)\n{\nconst\nmatch\n=\nerror\n.\nmessage\n.\nmatch\n(\n/\nAPI Error:\n(\n.\n*\n)\n/\n)\n;\nif\n(\nmatch\n)\nconsole\n.\nerror\n(\n'API Error Details:'\n,\nmatch\n[\n1\n]\n)\n;\n}\n}\nthrow\nerror\n;\n}\n}\n// Run if this file is executed directly\nif\n(\nrequire\n.\nmain\n===\nmodule\n)\n{\nexecuteSwap\n(\n)\n.\nthen\n(\n(\n)\n=>\nprocess\n.\nexit\n(\n0\n)\n)\n.\ncatch\n(\n(\nerror\n)\n=>\n{\nconsole\n.\nerror\n(\n'Error:'\n,\nerror\n)\n;\nprocess\n.\nexit\n(\n1\n)\n;\n}\n)\n;\n}\nexport\n{\nexecuteSwap\n}\n;\n获取报价\n#\nconst\nquote\n=\nawait\nclient\n.\ndex\n.\ngetQuote\n(\n{\nchainId\n:\n'784'\n,\n// Sui\nfromTokenAddress\n:\n'0x2::sui::SUI'\n,\n// SUI\ntoTokenAddress\n:\n'0xdba34672e30cb065b1f93e3ab55318768fd6fef66c15942c9f7cb846e2f900e7::usdc::USDC'\n,\n// USDC\namount\n:\n'100000000'\n,\n// In base units\nslippage\n:\n'0.5'\n// 0.5%\n}\n)\n;",
  "html": "<div class=\"routes_md__xWlGF\"><!--$--><h1 id=\"sui-示例\">Sui 示例<a class=\"index_header-anchor__Xqb+L\" href=\"#sui-示例\" style=\"opacity:0\">#</a></h1>\n<h2 data-content=\"创建币种助手 (可忽略)\" id=\"创建币种助手-(可忽略)\">创建币种助手 (可忽略)<a class=\"index_header-anchor__Xqb+L\" href=\"#创建币种助手-(可忽略)\" style=\"opacity:0\">#</a></h2>\n<div class=\"remark-highlight\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// Common tokens on Sui mainnet</span>\n<span class=\"token keyword module\">export</span> <span class=\"token keyword\">const</span> <span class=\"token constant\">TOKENS</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token constant\">SUI</span><span class=\"token operator\">:</span> <span class=\"token string\">\"0x2::sui::SUI\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token constant\">USDC</span><span class=\"token operator\">:</span> <span class=\"token string\">\"0xdba34672e30cb065b1f93e3ab55318768fd6fef66c15942c9f7cb846e2f900e7::usdc::USDC\"</span>\n<span class=\"token punctuation\">}</span> <span class=\"token keyword module\">as</span> <span class=\"token keyword\">const</span><span class=\"token punctuation\">;</span>\n\n</code></pre></div>\n<h2 data-content=\"创建兑换指令\" id=\"创建兑换指令\">创建兑换指令<a class=\"index_header-anchor__Xqb+L\" href=\"#创建兑换指令\" style=\"opacity:0\">#</a></h2>\n<div class=\"remark-highlight\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// swap.ts</span>\n<span class=\"token keyword module\">import</span> <span class=\"token imports\"><span class=\"token punctuation\">{</span> client <span class=\"token punctuation\">}</span></span> <span class=\"token keyword module\">from</span> <span class=\"token string\">'./DexClient'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword module\">import</span> <span class=\"token punctuation\">{</span> <span class=\"token constant\">TOKENS</span> <span class=\"token punctuation\">}</span> <span class=\"token keyword module\">from</span> <span class=\"token string\">'./Tokens'</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Optional, if you created the token helper</span>\n<span class=\"token doc-comment comment\">/**</span>\n<span class=\"token doc-comment comment\">Example: Execute a swap from SUI to USDC</span>\n<span class=\"token doc-comment comment\">*/</span>\n<span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">executeSwap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword control-flow\">try</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword control-flow\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>process<span class=\"token punctuation\">.</span><span class=\"token property-access\">env</span><span class=\"token punctuation\">.</span><span class=\"token constant\">SUI_PRIVATE_KEY</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword control-flow\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Error</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Missing SUI_PRIVATE_KEY in .env file'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token comment\">// First, get token information using a quote</span>\n    <span class=\"token console class-name\">console</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Getting token information...\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> fromTokenAddress <span class=\"token operator\">=</span> <span class=\"token constant\">TOKENS</span><span class=\"token punctuation\">.</span><span class=\"token constant\">SUI</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Or use directly: \"0x2::sui::SUI\"</span>\n    <span class=\"token keyword\">const</span> toTokenAddress <span class=\"token operator\">=</span> <span class=\"token constant\">TOKENS</span><span class=\"token punctuation\">.</span><span class=\"token constant\">USDC</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Or use directly: \"0xdba34672e30cb065b1f93e3ab55318768fd6fef66c15942c9f7cb846e2f900e7::usdc::USDC\"</span>\n\n    <span class=\"token keyword\">const</span> quote <span class=\"token operator\">=</span> <span class=\"token keyword control-flow\">await</span> client<span class=\"token punctuation\">.</span><span class=\"token property-access\">dex</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">getQuote</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n        <span class=\"token literal-property property\">chainId</span><span class=\"token operator\">:</span> <span class=\"token string\">'784'</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// Sui chain ID</span>\n        fromTokenAddress<span class=\"token punctuation\">,</span>\n        toTokenAddress<span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">amount</span><span class=\"token operator\">:</span> <span class=\"token string\">'1000000'</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// Small amount for quote</span>\n        <span class=\"token literal-property property\">slippage</span><span class=\"token operator\">:</span> <span class=\"token string\">'0.5'</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> tokenInfo <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token literal-property property\">fromToken</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token literal-property property\">symbol</span><span class=\"token operator\">:</span> quote<span class=\"token punctuation\">.</span><span class=\"token property-access\">data</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">fromToken</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">tokenSymbol</span><span class=\"token punctuation\">,</span>\n            <span class=\"token literal-property property\">decimals</span><span class=\"token operator\">:</span> <span class=\"token function\">parseInt</span><span class=\"token punctuation\">(</span>quote<span class=\"token punctuation\">.</span><span class=\"token property-access\">data</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">fromToken</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">decimal</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n            <span class=\"token literal-property property\">price</span><span class=\"token operator\">:</span> quote<span class=\"token punctuation\">.</span><span class=\"token property-access\">data</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">fromToken</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">tokenUnitPrice</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">toToken</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token literal-property property\">symbol</span><span class=\"token operator\">:</span> quote<span class=\"token punctuation\">.</span><span class=\"token property-access\">data</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">toToken</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">tokenSymbol</span><span class=\"token punctuation\">,</span>\n            <span class=\"token literal-property property\">decimals</span><span class=\"token operator\">:</span> <span class=\"token function\">parseInt</span><span class=\"token punctuation\">(</span>quote<span class=\"token punctuation\">.</span><span class=\"token property-access\">data</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">toToken</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">decimal</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n            <span class=\"token literal-property property\">price</span><span class=\"token operator\">:</span> quote<span class=\"token punctuation\">.</span><span class=\"token property-access\">data</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">toToken</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">tokenUnitPrice</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// Convert amount to base units</span>\n    <span class=\"token keyword\">const</span> humanReadableAmount <span class=\"token operator\">=</span> <span class=\"token number\">1.5</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 1.5 SUI</span>\n    <span class=\"token keyword\">const</span> rawAmount <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>humanReadableAmount <span class=\"token operator\">*</span> <span class=\"token known-class-name class-name\">Math</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">pow</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">,</span> tokenInfo<span class=\"token punctuation\">.</span><span class=\"token property-access\">fromToken</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">decimals</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token console class-name\">console</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\\nSwap Details:\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token console class-name\">console</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"--------------------\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token console class-name\">console</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">log</span><span class=\"token punctuation\">(</span>\n<span class=\"token literal-property property\">From</span><span class=\"token operator\">:</span> $<span class=\"token punctuation\">{</span>tokenInfo<span class=\"token punctuation\">.</span><span class=\"token property-access\">fromToken</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">symbol</span><span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token console class-name\">console</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">log</span><span class=\"token punctuation\">(</span>\n<span class=\"token literal-property property\">To</span><span class=\"token operator\">:</span> $<span class=\"token punctuation\">{</span>tokenInfo<span class=\"token punctuation\">.</span><span class=\"token property-access\">toToken</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">symbol</span><span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token console class-name\">console</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">log</span><span class=\"token punctuation\">(</span>\n<span class=\"token literal-property property\">Amount</span><span class=\"token operator\">:</span> $<span class=\"token punctuation\">{</span>humanReadableAmount<span class=\"token punctuation\">}</span> $<span class=\"token punctuation\">{</span>tokenInfo<span class=\"token punctuation\">.</span><span class=\"token property-access\">fromToken</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">symbol</span><span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token console class-name\">console</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">log</span><span class=\"token punctuation\">(</span>\n<span class=\"token maybe-class-name\">Amount</span> <span class=\"token keyword\">in</span> base units<span class=\"token operator\">:</span> $<span class=\"token punctuation\">{</span>rawAmount<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token console class-name\">console</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">log</span><span class=\"token punctuation\">(</span>\n<span class=\"token maybe-class-name\">Approximate</span> <span class=\"token constant\">USD</span> <span class=\"token literal-property property\">value</span><span class=\"token operator\">:</span> $$<span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span>humanReadableAmount <span class=\"token operator\">*</span> <span class=\"token function\">parseFloat</span><span class=\"token punctuation\">(</span>tokenInfo<span class=\"token punctuation\">.</span><span class=\"token property-access\">fromToken</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">price</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">toFixed</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// Execute the swap</span>\n    <span class=\"token console class-name\">console</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\\nExecuting swap...\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> swapResult <span class=\"token operator\">=</span> <span class=\"token keyword control-flow\">await</span> client<span class=\"token punctuation\">.</span><span class=\"token property-access\">dex</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">executeSwap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">chainId</span><span class=\"token operator\">:</span> <span class=\"token string\">'784'</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// Sui chain ID</span>\n      fromTokenAddress<span class=\"token punctuation\">,</span>\n      toTokenAddress<span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">amount</span><span class=\"token operator\">:</span> rawAmount<span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">slippage</span><span class=\"token operator\">:</span> <span class=\"token string\">'0.5'</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 0.5% slippage</span>\n      <span class=\"token literal-property property\">userWalletAddress</span><span class=\"token operator\">:</span> process<span class=\"token punctuation\">.</span><span class=\"token property-access\">env</span><span class=\"token punctuation\">.</span><span class=\"token constant\">SUI_WALLET_ADDRESS</span><span class=\"token operator\">!</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token console class-name\">console</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Swap executed successfully:'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token console class-name\">console</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\\nTransaction ID:\"</span><span class=\"token punctuation\">,</span> swapResult<span class=\"token punctuation\">.</span><span class=\"token property-access\">transactionId</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token console class-name\">console</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Explorer URL:\"</span><span class=\"token punctuation\">,</span> swapResult<span class=\"token punctuation\">.</span><span class=\"token property-access\">explorerUrl</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword control-flow\">if</span> <span class=\"token punctuation\">(</span>swapResult<span class=\"token punctuation\">.</span><span class=\"token property-access\">details</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token console class-name\">console</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\\nDetails:\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token console class-name\">console</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">log</span><span class=\"token punctuation\">(</span>\n<span class=\"token literal-property property\">Input</span><span class=\"token operator\">:</span> $<span class=\"token punctuation\">{</span>swapResult<span class=\"token punctuation\">.</span><span class=\"token property-access\">details</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">fromToken</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">amount</span><span class=\"token punctuation\">}</span> $<span class=\"token punctuation\">{</span>swapResult<span class=\"token punctuation\">.</span><span class=\"token property-access\">details</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">fromToken</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">symbol</span><span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token console class-name\">console</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">log</span><span class=\"token punctuation\">(</span>\n<span class=\"token literal-property property\">Output</span><span class=\"token operator\">:</span> $<span class=\"token punctuation\">{</span>swapResult<span class=\"token punctuation\">.</span><span class=\"token property-access\">details</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">toToken</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">amount</span><span class=\"token punctuation\">}</span> $<span class=\"token punctuation\">{</span>swapResult<span class=\"token punctuation\">.</span><span class=\"token property-access\">details</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">toToken</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">symbol</span><span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword control-flow\">if</span> <span class=\"token punctuation\">(</span>swapResult<span class=\"token punctuation\">.</span><span class=\"token property-access\">details</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">priceImpact</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token console class-name\">console</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">log</span><span class=\"token punctuation\">(</span>\n<span class=\"token maybe-class-name\">Price</span> <span class=\"token maybe-class-name\">Impact</span><span class=\"token operator\">:</span> $<span class=\"token punctuation\">{</span>swapResult<span class=\"token punctuation\">.</span><span class=\"token property-access\">details</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">priceImpact</span><span class=\"token punctuation\">}</span><span class=\"token operator\">%</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword control-flow\">return</span> swapResult<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword control-flow\">catch</span> <span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword control-flow\">if</span> <span class=\"token punctuation\">(</span>error <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">Error</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token console class-name\">console</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">error</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Error executing swap:'</span><span class=\"token punctuation\">,</span> error<span class=\"token punctuation\">.</span><span class=\"token property-access\">message</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token comment\">// API errors include details in the message</span>\n      <span class=\"token keyword control-flow\">if</span> <span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">.</span><span class=\"token property-access\">message</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">includes</span><span class=\"token punctuation\">(</span><span class=\"token string\">'API Error:'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">const</span> match <span class=\"token operator\">=</span> error<span class=\"token punctuation\">.</span><span class=\"token property-access\">message</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">match</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">API Error: <span class=\"token group punctuation\">(</span><span class=\"token char-set class-name\">.</span><span class=\"token quantifier number\">*</span><span class=\"token group punctuation\">)</span></span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword control-flow\">if</span> <span class=\"token punctuation\">(</span>match<span class=\"token punctuation\">)</span> <span class=\"token console class-name\">console</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">error</span><span class=\"token punctuation\">(</span><span class=\"token string\">'API Error Details:'</span><span class=\"token punctuation\">,</span> match<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword control-flow\">throw</span> error<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token comment\">// Run if this file is executed directly</span>\n<span class=\"token keyword control-flow\">if</span> <span class=\"token punctuation\">(</span>require<span class=\"token punctuation\">.</span><span class=\"token property-access\">main</span> <span class=\"token operator\">===</span> module<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">executeSwap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token method function property-access\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token arrow operator\">=&gt;</span> process<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">exit</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token keyword control-flow\">catch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">error</span><span class=\"token punctuation\">)</span> <span class=\"token arrow operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token console class-name\">console</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">error</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Error:'</span><span class=\"token punctuation\">,</span> error<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      process<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">exit</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword module\">export</span> <span class=\"token exports\"><span class=\"token punctuation\">{</span> executeSwap <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">;</span>\n\n</code></pre></div>\n<h2 data-content=\"获取报价\" id=\"获取报价\">获取报价<a class=\"index_header-anchor__Xqb+L\" href=\"#获取报价\" style=\"opacity:0\">#</a></h2>\n<div class=\"remark-highlight\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> quote <span class=\"token operator\">=</span> <span class=\"token keyword control-flow\">await</span> client<span class=\"token punctuation\">.</span><span class=\"token property-access\">dex</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">getQuote</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">chainId</span><span class=\"token operator\">:</span> <span class=\"token string\">'784'</span><span class=\"token punctuation\">,</span>  <span class=\"token comment\">// Sui</span>\n    <span class=\"token literal-property property\">fromTokenAddress</span><span class=\"token operator\">:</span> <span class=\"token string\">'0x2::sui::SUI'</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// SUI</span>\n    <span class=\"token literal-property property\">toTokenAddress</span><span class=\"token operator\">:</span> <span class=\"token string\">'0xdba34672e30cb065b1f93e3ab55318768fd6fef66c15942c9f7cb846e2f900e7::usdc::USDC'</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// USDC</span>\n    <span class=\"token literal-property property\">amount</span><span class=\"token operator\">:</span> <span class=\"token string\">'100000000'</span><span class=\"token punctuation\">,</span>  <span class=\"token comment\">// In base units</span>\n    <span class=\"token literal-property property\">slippage</span><span class=\"token operator\">:</span> <span class=\"token string\">'0.5'</span>     <span class=\"token comment\">// 0.5%</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div><!--/$--></div>",
  "url": "https://web3.okx.com/zh-hans/build/dev-docs/dex-api/dex-sdk-sui#创建币种助手-(可忽略)",
  "navigation": {
    "breadcrumbs": [
      "DEX API",
      "资源",
      "Sui 示例"
    ],
    "sidebar_links": [
      "介绍",
      "EVM 示例",
      "Solana 示例",
      "Sui 示例",
      "Javascript 签名 SDK",
      "Go 签名 SDK"
    ],
    "toc": [
      "创建币种助手 (可忽略)",
      "创建兑换指令",
      "获取报价"
    ]
  },
  "word_count": 816,
  "extract_time": "2025-05-27 03:53:19"
}