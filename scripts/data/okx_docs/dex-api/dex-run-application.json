{
  "title": "运行第一个程序 | 开始 | 首页 | DEX API | DEX API 文档 | 欧易",
  "text": "运行第一个程序\n#\n完成环境配置后，你可通过以下代码示例运行首个链上交互应用。\n初始化HTTP客户端\n#\nimport\n{\nOKXDexClient\n}\nfrom\n'@okx-dex/okx-dex-sdk'\n;\nimport\n'dotenv/config'\n;\n// 初始化DEX客户端\nconst\nclient\n=\nnew\nOKXDexClient\n(\n{\napiKey\n:\nprocess\n.\nenv\n.\nOKX_API_KEY\n!\n,\n// 从环境变量获取API密钥\nsecretKey\n:\nprocess\n.\nenv\n.\nOKX_SECRET_KEY\n!\n,\n// 安全凭证密钥\napiPassphrase\n:\nprocess\n.\nenv\n.\nOKX_API_PASSPHRASE\n!\n,\n// 加密口令\nprojectId\n:\nprocess\n.\nenv\n.\nOKX_PROJECT_ID\n!\n,\n// 开发者平台创建的项目ID\n// 链上交互配置（以Solana为例）\nsolana\n:\n{\nconnection\n:\n{\nrpcUrl\n:\nprocess\n.\nenv\n.\nSOLANA_RPC_URL\n!\n,\n// 节点RPC地址\nconfirmTransactionInitialTimeout\n:\n60000\n// 交易确认超时设置\n}\n,\nprivateKey\n:\nprocess\n.\nenv\n.\nSOLANA_PRIVATE_KEY\n!\n,\n// 钱包私钥（加密存储）\nwalletAddress\n:\nprocess\n.\nenv\n.\nSOLANA_WALLET_ADDRESS\n!\n// 钱包地址\n}\n}\n)\n;\n获取报价示例 (SOL → USDC)\n#\nasync\nfunction\nmain\n(\n)\n{\ntry\n{\n// 获取兑换报价\nconst\nquote\n=\nawait\nclient\n.\ndex\n.\ngetQuote\n(\n{\nchainIndex\n:\n'501'\n,\n// Solana主网链ID\nfromTokenAddress\n:\n'So11111111111111111111111111111111111111112'\n,\n// SOL代币地址\ntoTokenAddress\n:\n'EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v'\n,\n// USDC代币地址\namount\n:\n'1000000000'\n,\n// 兑换数量（基础单位精度）\nslippage\n:\n'0.1'\n// 滑点容忍度（0.1%）\n}\n)\n;\nconsole\n.\nlog\n(\n'兑换报价详情:'\n,\nJSON\n.\nstringify\n(\nquote\n,\nnull\n,\n2\n)\n)\n;\n}\ncatch\n(\nerror\n)\n{\nconsole\n.\nerror\n(\n'交易异常:'\n,\nerror\n)\n;\n}\n}\n// 执行报价查询\nmain\n(\n)\n;\n解释\n关键参数说明：\nchainIndex：各公链的唯一标识符 (501 = Solana 主网)\nslippage：建议根据市场波动性动态调整 (范围 0.1-1%)\namount：需转换为代币最小单位 (如 SOL 的 Lamport 精度)\n如需查看更多示例，请访问获取：\n交易 API",
  "html": "<div class=\"routes_md__xWlGF\"><!--$--><h1 id=\"运行第一个程序\">运行第一个程序<a class=\"index_header-anchor__Xqb+L\" href=\"#运行第一个程序\" style=\"opacity:0\">#</a></h1>\n<p>完成环境配置后，你可通过以下代码示例运行首个链上交互应用。</p>\n<h2 data-content=\"初始化HTTP客户端\" id=\"初始化http客户端\">初始化HTTP客户端<a class=\"index_header-anchor__Xqb+L\" href=\"#初始化http客户端\" style=\"opacity:0\">#</a></h2>\n<div class=\"remark-highlight\"><pre class=\"language-javaScript\"><code class=\"language-javaScript\"><span class=\"token keyword module\">import</span> <span class=\"token imports\"><span class=\"token punctuation\">{</span> <span class=\"token maybe-class-name\">OKXDexClient</span> <span class=\"token punctuation\">}</span></span> <span class=\"token keyword module\">from</span> <span class=\"token string\">'@okx-dex/okx-dex-sdk'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword module\">import</span> <span class=\"token string\">'dotenv/config'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// 初始化DEX客户端</span>\n<span class=\"token keyword\">const</span> client <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">OKXDexClient</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">apiKey</span><span class=\"token operator\">:</span> process<span class=\"token punctuation\">.</span><span class=\"token property-access\">env</span><span class=\"token punctuation\">.</span><span class=\"token constant\">OKX_API_KEY</span><span class=\"token operator\">!</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 从环境变量获取API密钥</span>\n  <span class=\"token literal-property property\">secretKey</span><span class=\"token operator\">:</span> process<span class=\"token punctuation\">.</span><span class=\"token property-access\">env</span><span class=\"token punctuation\">.</span><span class=\"token constant\">OKX_SECRET_KEY</span><span class=\"token operator\">!</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 安全凭证密钥</span>\n  <span class=\"token literal-property property\">apiPassphrase</span><span class=\"token operator\">:</span> process<span class=\"token punctuation\">.</span><span class=\"token property-access\">env</span><span class=\"token punctuation\">.</span><span class=\"token constant\">OKX_API_PASSPHRASE</span><span class=\"token operator\">!</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 加密口令</span>\n  <span class=\"token literal-property property\">projectId</span><span class=\"token operator\">:</span> process<span class=\"token punctuation\">.</span><span class=\"token property-access\">env</span><span class=\"token punctuation\">.</span><span class=\"token constant\">OKX_PROJECT_ID</span><span class=\"token operator\">!</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 开发者平台创建的项目ID</span>\n  <span class=\"token comment\">// 链上交互配置（以Solana为例）</span>\n  <span class=\"token literal-property property\">solana</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">connection</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">rpcUrl</span><span class=\"token operator\">:</span> process<span class=\"token punctuation\">.</span><span class=\"token property-access\">env</span><span class=\"token punctuation\">.</span><span class=\"token constant\">SOLANA_RPC_URL</span><span class=\"token operator\">!</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 节点RPC地址</span>\n      <span class=\"token literal-property property\">confirmTransactionInitialTimeout</span><span class=\"token operator\">:</span> <span class=\"token number\">60000</span> <span class=\"token comment\">// 交易确认超时设置</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">privateKey</span><span class=\"token operator\">:</span> process<span class=\"token punctuation\">.</span><span class=\"token property-access\">env</span><span class=\"token punctuation\">.</span><span class=\"token constant\">SOLANA_PRIVATE_KEY</span><span class=\"token operator\">!</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 钱包私钥（加密存储）</span>\n    <span class=\"token literal-property property\">walletAddress</span><span class=\"token operator\">:</span> process<span class=\"token punctuation\">.</span><span class=\"token property-access\">env</span><span class=\"token punctuation\">.</span><span class=\"token constant\">SOLANA_WALLET_ADDRESS</span><span class=\"token operator\">!</span> <span class=\"token comment\">// 钱包地址</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<h2 data-content=\"获取报价示例 (SOL → USDC)\" id=\"获取报价示例-(sol-→-usdc)\">获取报价示例 (SOL → USDC)<a class=\"index_header-anchor__Xqb+L\" href=\"#获取报价示例-(sol-→-usdc)\" style=\"opacity:0\">#</a></h2>\n<div class=\"remark-highlight\"><pre class=\"language-javaScript\"><code class=\"language-javaScript\"><span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword control-flow\">try</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// 获取兑换报价</span>\n        <span class=\"token keyword\">const</span> quote <span class=\"token operator\">=</span> <span class=\"token keyword control-flow\">await</span> client<span class=\"token punctuation\">.</span><span class=\"token property-access\">dex</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">getQuote</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n            <span class=\"token literal-property property\">chainIndex</span><span class=\"token operator\">:</span> <span class=\"token string\">'501'</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// Solana主网链ID</span>\n            <span class=\"token literal-property property\">fromTokenAddress</span><span class=\"token operator\">:</span> <span class=\"token string\">'So11111111111111111111111111111111111111112'</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// SOL代币地址</span>\n            <span class=\"token literal-property property\">toTokenAddress</span><span class=\"token operator\">:</span> <span class=\"token string\">'EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v'</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// USDC代币地址</span>\n            <span class=\"token literal-property property\">amount</span><span class=\"token operator\">:</span> <span class=\"token string\">'1000000000'</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 兑换数量（基础单位精度）</span>\n            <span class=\"token literal-property property\">slippage</span><span class=\"token operator\">:</span> <span class=\"token string\">'0.1'</span> <span class=\"token comment\">// 滑点容忍度（0.1%）</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token console class-name\">console</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'兑换报价详情:'</span><span class=\"token punctuation\">,</span> <span class=\"token known-class-name class-name\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">stringify</span><span class=\"token punctuation\">(</span>quote<span class=\"token punctuation\">,</span> <span class=\"token keyword null nil\">null</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword control-flow\">catch</span> <span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token console class-name\">console</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">error</span><span class=\"token punctuation\">(</span><span class=\"token string\">'交易异常:'</span><span class=\"token punctuation\">,</span> error<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// 执行报价查询</span>\n<span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<div class=\"index_wrapper__x5A2Q\"><div aria-labelledby=\":Rdbf:\" class=\"okui-alert info-alert\"><i aria-hidden=\"true\" class=\"icon iconfont okui-alert-icon doc-ssr-okds-information-circle-fill\" role=\"img\"></i><div class=\"okui-alert-msg-box\"><div class=\"okui-alert-title\" id=\":Rdbf:\">解释</div><div class=\"okui-alert-desc\"><div class=\"index_desc__5fNBE\"><p>关键参数说明：</p><ul>\n<li>chainIndex：各公链的唯一标识符 (501 = Solana 主网)</li>\n<li>slippage：建议根据市场波动性动态调整 (范围 0.1-1%)</li>\n<li>amount：需转换为代币最小单位 (如 SOL 的 Lamport 精度)</li>\n</ul></div></div></div></div></div>\n<p>如需查看更多示例，请访问获取：</p>\n<div><a class=\"flex index_card__PinRP\" href=\"../dex-api/dex-use-swap-quick-start\" target=\"_self\"><picture class=\"okui-picture shrink-0 index_pic__wsTn5 okui-picture-font\"><img alt=\"交易 API\" class=\"index_img__o7soA\" src=\"https://web3.okx.com/cdn/assets/imgs/253/11D9FE79530B884A.png\"/></picture><div class=\"flex justify-between items-center grow index_right-content__lybMm\"><div class=\"index_text-wrapper__M1izi\"><div class=\"truncate index_text__My7kF\">交易 API</div></div><div class=\"flex justify-center items-center index_icon-border__Hx94n\"><i aria-hidden=\"true\" class=\"icon iconfont doc-ssr-okds-arrow-pointer-right-md index_icon__V7Qx8\" role=\"img\"></i></div></div></a></div><!--/$--></div>",
  "url": "https://web3.okx.com/zh-hans/build/dev-docs/dex-api/dex-run-application#运行第一个程序",
  "navigation": {
    "breadcrumbs": [
      "DEX API",
      "首页",
      "运行第一个程序"
    ],
    "sidebar_links": [
      "什么是 DEX API",
      "API 访问和用法",
      "API 费用",
      "支持的链",
      "开发者平台",
      "环境设置",
      "运行第一个程序",
      "用户协议"
    ],
    "toc": [
      "初始化HTTP客户端",
      "获取报价示例 (SOL → USDC)"
    ]
  },
  "word_count": 237,
  "extract_time": "2025-05-27 01:09:25"
}