{
  "title": "API 访问和用法 | 概览 | 首页 | DEX API | DEX API 文档 | 欧易",
  "text": "API 访问和用法\n#\n在开始使用 DEX API 之前，你需要先在开发者管理平台创建项目并生成 API key。详细的步骤和相关资源请参考\n这里\n。\n鉴权\n#\n所有对 API 发起访问的请求都需要包括下面信息来进行身份认证。\nOK-ACCESS-KEY ： API key\nOK-ACCESS-TIMESTAMP ：发起请求的时间 (UTC) 。ISO 格式，如：2020-12-08T09:08:57.715Z\nOK-ACCESS-PASSPHRASE ：创建 API key 时指定的 passphrase\nOK-ACCESS-SIGN ：签名\n签名步骤：\n第一步：将 timestamp 、 method 、requestPath 、 body 拼接成一个字符串\n第二步：以 HMAC SHA256 算法 和 secret key (在创建 API key 时生成) 对预哈希字符串 (第一步产生的结果) 进行签名\n第三步：以 Base64 算法对签名进行编码\n解释\n例如，sign=CryptoJS.enc.Base64.stringify(CryptoJS.HmacSHA256(timestamp + 'GET' + '/api/v5/dex/aggregator/swap', SecretKey))\n其中，timestamp 与 OK-ACCESS-TIMESTAMP 必须相同\n其中，GET 是 method （HTTP请求方法，字母全部大写）\n其中，/api/v5/dex/aggregator/swap 是requestPath （请求接口路径）\n其中 body 为空。如果请求没有请求体（通常为 GET 请求），那 body 可省略\n注意\n时间戳与服务端时差不得超过 30 秒\nPOST 请求需包含原始请求体参与签名计算\nSecret key 仅创建时可见，请通过安全渠道存储\nPostman 示例\n#\nPostman 是一款流行的 API 开发和测试工具，允许开发人员设计、测试和记录 API。它提供了对用户友好的图形界面，用于向 API 发送 HTTP 请求。\n如果你还没有安装 Postman，你可以免费从 Postman 网站下载它：\nhttps://www.postman.com/\n提示\n这个示例需要你具备对 Postman 的基础理解。\n添加参数\n#\n这通常适用于 GET 请求。\n如果你的请求需要查询参数，你可以在\nParams\n选项卡下添加它们。在这里，你可以添加查询参数的 key-value pair。\n设置标题\n#\n在\nHeaders\n选项卡下，添加以下键-值对：\nOK-ACCESS-KEY\nOK-ACCESS-PASSPHRASE\n添加正文\n#\n这通常适用于 POST 请求。\n如果你的请求需要一个请求主体，你可以在\nBody\n选项卡下添加它们。\n在下拉菜单中选择\nraw\n和\nJSON\n。\n使用 JSON 格式输入你的请求主体。\n设置预请求脚本\n#\n用于生成所需的签名 (\nOK-ACCESS-SIGN\n) 和时间戳 (\nOK-ACCESS-TIMESTAMP\n)。\n在\nPre-request Script\n选项卡下，插入与请求类型相对应的脚本。\n在生成预哈希字符串时，GET 请求会排除请求主体。\n根据需要编辑密钥。\nGET 请求：\nvar\nmethod\n=\npm\n.\nrequest\n.\nmethod\n;\nvar\nnow\n=\nnew\nDate\n(\n)\n;\nvar\nisoString\n=\nnow\n.\ntoISOString\n(\n)\n;\nvar\npath\n=\npm\n.\nrequest\n.\nurl\n.\ngetPathWithQuery\n(\n)\n;\nvar\nsign\n=\nCryptoJS\n.\nenc\n.\nBase64\n.\nstringify\n(\nCryptoJS\n.\nHmacSHA256\n(\nisoString\n+\nmethod\n+\npath\n,\npm\n.\nvariables\n.\nreplaceIn\n(\n'{{secret_key}}'\n)\n)\n)\n;\npm\n.\nrequest\n.\nheaders\n.\nadd\n(\n{\nkey\n:\n'OK-ACCESS-SIGN'\n,\nvalue\n:\nsign\n}\n)\n;\npm\n.\nrequest\n.\nheaders\n.\nadd\n(\n{\nkey\n:\n'OK-ACCESS-TIMESTAMP'\n,\nvalue\n:\nisoString\n}\n)\n;\nPOST 请求:\nvar\nmethod\n=\npm\n.\nrequest\n.\nmethod\n;\nvar\nnow\n=\nnew\nDate\n(\n)\n;\nvar\nisoString\n=\nnow\n.\ntoISOString\n(\n)\n;\nvar\npath\n=\npm\n.\nrequest\n.\nurl\n.\ngetPathWithQuery\n(\n)\n;\nvar\nbodyStr\n=\npm\n.\nrequest\n.\nbody\n.\nraw\n;\nvar\nsign\n=\nCryptoJS\n.\nenc\n.\nBase64\n.\nstringify\n(\nCryptoJS\n.\nHmacSHA256\n(\nisoString\n+\nmethod\n+\npath\n+\nbodyStr\n,\npm\n.\nvariables\n.\nreplaceIn\n(\n'{{secret_key}}'\n)\n)\n)\npm\n.\nrequest\n.\nheaders\n.\nadd\n(\n{\nkey\n:\n'OK-ACCESS-SIGN'\n,\nvalue\n:\nsign\n}\n)\n;\npm\n.\nrequest\n.\nheaders\n.\nadd\n(\n{\nkey\n:\n'OK-ACCESS-TIMESTAMP'\n,\nvalue\n:\nisoString\n}\n)\n;\nJavascript 示例\n#\n若要通过 Javascript 脚本调用 API，请参考以下代码示例：\nconst\nhttps\n=\nrequire\n(\n'https'\n)\n;\nconst\ncrypto\n=\nrequire\n(\n'crypto'\n)\n;\nconst\nquerystring\n=\nrequire\n(\n'querystring'\n)\n;\n// 定义 API 凭证\nconst\napi_config\n=\n{\n\"api_key\"\n:\n''\n,\n\"secret_key\"\n:\n''\n,\n\"passphrase\"\n:\n''\n,\n}\n;\nfunction\npreHash\n(\ntimestamp\n,\nmethod\n,\nrequest_path\n,\nparams\n)\n{\n// 根据字符串和参数创建预签名\nlet\nquery_string\n=\n''\n;\nif\n(\nmethod\n===\n'GET'\n&&\nparams\n)\n{\nquery_string\n=\n'?'\n+\nquerystring\n.\nstringify\n(\nparams\n)\n;\n}\nif\n(\nmethod\n===\n'POST'\n&&\nparams\n)\n{\nquery_string\n=\nJSON\n.\nstringify\n(\nparams\n)\n;\n}\nreturn\ntimestamp\n+\nmethod\n+\nrequest_path\n+\nquery_string\n;\n}\nfunction\nsign\n(\nmessage\n,\nsecret_key\n)\n{\n// 使用 HMAC-SHA256 对预签名字符串进行签名\nconst\nhmac\n=\ncrypto\n.\ncreateHmac\n(\n'sha256'\n,\nsecret_key\n)\n;\nhmac\n.\nupdate\n(\nmessage\n)\n;\nreturn\nhmac\n.\ndigest\n(\n'base64'\n)\n;\n}\nfunction\ncreateSignature\n(\nmethod\n,\nrequest_path\n,\nparams\n)\n{\n// 获取 ISO 8601 格式时间戳\nconst\ntimestamp\n=\nnew\nDate\n(\n)\n.\ntoISOString\n(\n)\n.\nslice\n(\n0\n,\n-\n5\n)\n+\n'Z'\n;\n// 生成签名\nconst\nmessage\n=\npreHash\n(\ntimestamp\n,\nmethod\n,\nrequest_path\n,\nparams\n)\n;\nconst\nsignature\n=\nsign\n(\nmessage\n,\napi_config\n[\n'secret_key'\n]\n)\n;\nreturn\n{\nsignature\n,\ntimestamp\n}\n;\n}\nfunction\nsendGetRequest\n(\nrequest_path\n,\nparams\n)\n{\n// 生成签名\nconst\n{\nsignature\n,\ntimestamp\n}\n=\ncreateSignature\n(\n\"GET\"\n,\nrequest_path\n,\nparams\n)\n;\n// 生成请求头\nconst\nheaders\n=\n{\n'OK-ACCESS-KEY'\n:\napi_config\n[\n'api_key'\n]\n,\n'OK-ACCESS-SIGN'\n:\nsignature\n,\n'OK-ACCESS-TIMESTAMP'\n:\ntimestamp\n,\n'OK-ACCESS-PASSPHRASE'\n:\napi_config\n[\n'passphrase'\n]\n,\n}\n;\nconst\noptions\n=\n{\nhostname\n:\n'web3.okx.com'\n,\npath\n:\nrequest_path\n+\n(\nparams\n?\n`\n?\n${\nquerystring\n.\nstringify\n(\nparams\n)\n}\n`\n:\n''\n)\n,\nmethod\n:\n'GET'\n,\nheaders\n:\nheaders\n}\n;\nconst\nreq\n=\nhttps\n.\nrequest\n(\noptions\n,\n(\nres\n)\n=>\n{\nlet\ndata\n=\n''\n;\nres\n.\non\n(\n'data'\n,\n(\nchunk\n)\n=>\n{\ndata\n+=\nchunk\n;\n}\n)\n;\nres\n.\non\n(\n'end'\n,\n(\n)\n=>\n{\nconsole\n.\nlog\n(\ndata\n)\n;\n}\n)\n;\n}\n)\n;\nreq\n.\nend\n(\n)\n;\n}\nfunction\nsendPostRequest\n(\nrequest_path\n,\nparams\n)\n{\n// 生成签名\nconst\n{\nsignature\n,\ntimestamp\n}\n=\ncreateSignature\n(\n\"POST\"\n,\nrequest_path\n,\nparams\n)\n;\n// 生成请求头\nconst\nheaders\n=\n{\n'OK-ACCESS-KEY'\n:\napi_config\n[\n'api_key'\n]\n,\n'OK-ACCESS-SIGN'\n:\nsignature\n,\n'OK-ACCESS-TIMESTAMP'\n:\ntimestamp\n,\n'OK-ACCESS-PASSPHRASE'\n:\napi_config\n[\n'passphrase'\n]\n,\n'Content-Type'\n:\n'application/json'\n}\n;\nconst\noptions\n=\n{\nhostname\n:\n'web3.okx.com'\n,\npath\n:\nrequest_path\n,\nmethod\n:\n'POST'\n,\nheaders\n:\nheaders\n}\n;\nconst\nreq\n=\nhttps\n.\nrequest\n(\noptions\n,\n(\nres\n)\n=>\n{\nlet\ndata\n=\n''\n;\nres\n.\non\n(\n'data'\n,\n(\nchunk\n)\n=>\n{\ndata\n+=\nchunk\n;\n}\n)\n;\nres\n.\non\n(\n'end'\n,\n(\n)\n=>\n{\nconsole\n.\nlog\n(\ndata\n)\n;\n}\n)\n;\n}\n)\n;\nif\n(\nparams\n)\n{\nreq\n.\nwrite\n(\nJSON\n.\nstringify\n(\nparams\n)\n)\n;\n}\nreq\n.\nend\n(\n)\n;\n}\n// GET 请求示例\nconst\ngetRequestPath\n=\n'/api/v5/dex/aggregator/quote'\n;\nconst\ngetParams\n=\n{\n'chainId'\n:\n42161\n,\n'amount'\n:\n1000000000000\n,\n'toTokenAddress'\n:\n'0xff970a61a04b1ca14834a43f5de4533ebddb5cc8'\n,\n'fromTokenAddress'\n:\n'0x82aF49447D8a07e3bd95BD0d56f35241523fBab1'\n}\n;\nsendGetRequest\n(\ngetRequestPath\n,\ngetParams\n)\n;\n// POST 请求示例\nconst\npostRequestPath\n=\n'/api/v5/mktplace/nft/ordinals/listings'\n;\nconst\npostParams\n=\n{\n'slug'\n:\n'sats'\n}\n;\nsendPostRequest\n(\npostRequestPath\n,\npostParams\n)\n;\n遗留 API\n#\n钱包 API、市场 API 和 DeFi API 已经被归档，我们将不再提供更新。如果你正在使用相关服务并需要查看有关的文档内容 ，请前往\n这里\n。",
  "html": "<div class=\"routes_md__xWlGF\"><!--$--><h1 id=\"api-访问和用法\">API 访问和用法<a class=\"index_header-anchor__Xqb+L\" href=\"#api-访问和用法\" style=\"opacity:0\">#</a></h1>\n<p>在开始使用 DEX API 之前，你需要先在开发者管理平台创建项目并生成 API key。详细的步骤和相关资源请参考<a href=\"/zh-hans/build/dev-docs/dex-api/dex-developer-portal\">这里</a>。</p>\n<h2 data-content=\"鉴权\" id=\"鉴权\">鉴权<a class=\"index_header-anchor__Xqb+L\" href=\"#鉴权\" style=\"opacity:0\">#</a></h2>\n<p>所有对 API 发起访问的请求都需要包括下面信息来进行身份认证。</p>\n<ul>\n<li>OK-ACCESS-KEY ： API key</li>\n<li>OK-ACCESS-TIMESTAMP ：发起请求的时间 (UTC) 。ISO 格式，如：2020-12-08T09:08:57.715Z</li>\n<li>OK-ACCESS-PASSPHRASE ：创建 API key 时指定的 passphrase</li>\n<li>OK-ACCESS-SIGN ：签名</li>\n</ul>\n<p>签名步骤：</p>\n<ul>\n<li>第一步：将 timestamp 、 method 、requestPath 、 body 拼接成一个字符串</li>\n<li>第二步：以 HMAC SHA256 算法 和 secret key (在创建 API key 时生成) 对预哈希字符串 (第一步产生的结果) 进行签名</li>\n<li>第三步：以 Base64 算法对签名进行编码</li>\n</ul>\n<div class=\"index_wrapper__x5A2Q\"><div aria-labelledby=\":Rfbf:\" class=\"okui-alert info-alert\"><i aria-hidden=\"true\" class=\"icon iconfont okui-alert-icon doc-ssr-okds-information-circle-fill\" role=\"img\"></i><div class=\"okui-alert-msg-box\"><div class=\"okui-alert-title\" id=\":Rfbf:\">解释</div><div class=\"okui-alert-desc\"><div class=\"index_desc__5fNBE\"><ul>\n<li>例如，sign=CryptoJS.enc.Base64.stringify(CryptoJS.HmacSHA256(timestamp + 'GET' + '/api/v5/dex/aggregator/swap', SecretKey))</li>\n<li>其中，timestamp 与 OK-ACCESS-TIMESTAMP 必须相同</li>\n<li>其中，GET 是 method （HTTP请求方法，字母全部大写）</li>\n<li>其中，/api/v5/dex/aggregator/swap 是requestPath （请求接口路径）</li>\n<li>其中 body 为空。如果请求没有请求体（通常为 GET 请求），那 body 可省略</li>\n</ul></div></div></div></div></div>\n<div class=\"index_wrapper__x5A2Q\"><div aria-labelledby=\":Rhbf:\" class=\"okui-alert info-alert\"><i aria-hidden=\"true\" class=\"icon iconfont okui-alert-icon doc-ssr-okds-information-circle-fill\" role=\"img\"></i><div class=\"okui-alert-msg-box\"><div class=\"okui-alert-title\" id=\":Rhbf:\">注意</div><div class=\"okui-alert-desc\"><div class=\"index_desc__5fNBE\"><ul>\n<li>时间戳与服务端时差不得超过 30 秒</li>\n<li>POST 请求需包含原始请求体参与签名计算</li>\n<li>Secret key 仅创建时可见，请通过安全渠道存储</li>\n</ul></div></div></div></div></div>\n<h2 data-content=\"Postman 示例\" id=\"postman-示例\">Postman 示例<a class=\"index_header-anchor__Xqb+L\" href=\"#postman-示例\" style=\"opacity:0\">#</a></h2>\n<p>Postman 是一款流行的 API 开发和测试工具，允许开发人员设计、测试和记录 API。它提供了对用户友好的图形界面，用于向 API 发送 HTTP 请求。</p>\n<p>如果你还没有安装 Postman，你可以免费从 Postman 网站下载它：<a class=\"items-center\" href=\"https://www.postman.com/\" rel=\"nofollow noreferrer\" style=\"display:inline-flex;line-height:16px\" target=\"_blank\">https://www.postman.com/<i aria-hidden=\"true\" class=\"icon iconfont doc-ssr-okds-open-link\" role=\"img\" style=\"font-size:24px;color:#0569FF;margin-left:2px\"></i></a></p>\n<div class=\"index_wrapper__x5A2Q\"><div aria-labelledby=\":Rpbf:\" class=\"okui-alert info-alert\"><i aria-hidden=\"true\" class=\"icon iconfont okui-alert-icon doc-ssr-okds-information-circle-fill\" role=\"img\"></i><div class=\"okui-alert-msg-box\"><div class=\"okui-alert-title\" id=\":Rpbf:\">提示</div><div class=\"okui-alert-desc\"><div class=\"index_desc__5fNBE\">这个示例需要你具备对 Postman 的基础理解。</div></div></div></div></div>\n<h3 id=\"添加参数\">添加参数<a class=\"index_header-anchor__Xqb+L\" href=\"#添加参数\" style=\"opacity:0\">#</a></h3>\n<ul>\n<li>这通常适用于 GET 请求。</li>\n<li>如果你的请求需要查询参数，你可以在 <strong>Params</strong> 选项卡下添加它们。在这里，你可以添加查询参数的 key-value pair。</li>\n</ul>\n<p><picture class=\"okui-picture index_pic__VGZfY okui-picture-font\" style=\"width:100%;aspect-ratio:3.1341463414634148\"><img alt=\"图片\" class=\"index_img__AfAvr\" src=\"https://web3.okx.com/cdn/assets/okexchain/okc-docs/dex-docs/../9200ae895b949b939dad.png?x-oss-process=image/format,webp\"/></picture></p>\n<h3 id=\"设置标题\">设置标题<a class=\"index_header-anchor__Xqb+L\" href=\"#设置标题\" style=\"opacity:0\">#</a></h3>\n<p>在 <strong>Headers</strong> 选项卡下，添加以下键-值对：</p>\n<ul>\n<li><code>OK-ACCESS-KEY</code></li>\n<li><code>OK-ACCESS-PASSPHRASE</code></li>\n</ul>\n<p><picture class=\"okui-picture index_pic__VGZfY okui-picture-font\" style=\"width:100%;aspect-ratio:3.1341463414634148\"><img alt=\"图片\" class=\"index_img__AfAvr\" src=\"https://web3.okx.com/cdn/assets/okexchain/okc-docs/dex-docs/../f8aa803831e35d7c9d68.png?x-oss-process=image/format,webp\"/></picture></p>\n<h3 id=\"添加正文\">添加正文<a class=\"index_header-anchor__Xqb+L\" href=\"#添加正文\" style=\"opacity:0\">#</a></h3>\n<ul>\n<li>这通常适用于 POST 请求。</li>\n<li>如果你的请求需要一个请求主体，你可以在 <strong>Body</strong> 选项卡下添加它们。</li>\n<li>在下拉菜单中选择 <strong>raw</strong> 和 <strong>JSON</strong>。</li>\n<li>使用 JSON 格式输入你的请求主体。</li>\n</ul>\n<p><picture class=\"okui-picture index_pic__VGZfY okui-picture-font\" style=\"width:100%;aspect-ratio:3.1341463414634148\"><img alt=\"图片\" class=\"index_img__AfAvr\" src=\"https://web3.okx.com/cdn/assets/okexchain/okc-docs/dex-docs/../e456946243de17a068c9.png?x-oss-process=image/format,webp\"/></picture></p>\n<h3 id=\"设置预请求脚本\">设置预请求脚本<a class=\"index_header-anchor__Xqb+L\" href=\"#设置预请求脚本\" style=\"opacity:0\">#</a></h3>\n<ul>\n<li>用于生成所需的签名 (<code>OK-ACCESS-SIGN</code>) 和时间戳 (<code>OK-ACCESS-TIMESTAMP</code>)。</li>\n<li>在 <strong>Pre-request Script</strong> 选项卡下，插入与请求类型相对应的脚本。</li>\n<li>在生成预哈希字符串时，GET 请求会排除请求主体。</li>\n<li>根据需要编辑密钥。</li>\n</ul>\n<p>GET 请求：</p>\n<div class=\"remark-highlight\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> method <span class=\"token operator\">=</span> pm<span class=\"token punctuation\">.</span><span class=\"token property-access\">request</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">method</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> now <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> isoString <span class=\"token operator\">=</span> now<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">toISOString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> path <span class=\"token operator\">=</span> pm<span class=\"token punctuation\">.</span><span class=\"token property-access\">request</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">url</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">getPathWithQuery</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> sign<span class=\"token operator\">=</span><span class=\"token maybe-class-name\">CryptoJS</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">enc</span><span class=\"token punctuation\">.</span><span class=\"token property-access\"><span class=\"token maybe-class-name\">Base64</span></span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">stringify</span><span class=\"token punctuation\">(</span><span class=\"token maybe-class-name\">CryptoJS</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\"><span class=\"token maybe-class-name\">HmacSHA256</span></span><span class=\"token punctuation\">(</span>isoString <span class=\"token operator\">+</span> method <span class=\"token operator\">+</span> path<span class=\"token punctuation\">,</span> pm<span class=\"token punctuation\">.</span><span class=\"token property-access\">variables</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">replaceIn</span><span class=\"token punctuation\">(</span><span class=\"token string\">'{{secret_key}}'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\npm<span class=\"token punctuation\">.</span><span class=\"token property-access\">request</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">headers</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">add</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">key</span><span class=\"token operator\">:</span> <span class=\"token string\">'OK-ACCESS-SIGN'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">value</span><span class=\"token operator\">:</span> sign\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\npm<span class=\"token punctuation\">.</span><span class=\"token property-access\">request</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">headers</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">add</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">key</span><span class=\"token operator\">:</span> <span class=\"token string\">'OK-ACCESS-TIMESTAMP'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">value</span><span class=\"token operator\">:</span> isoString\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<p>POST 请求:</p>\n<div class=\"remark-highlight\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> method <span class=\"token operator\">=</span> pm<span class=\"token punctuation\">.</span><span class=\"token property-access\">request</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">method</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> now <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> isoString <span class=\"token operator\">=</span> now<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">toISOString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> path <span class=\"token operator\">=</span> pm<span class=\"token punctuation\">.</span><span class=\"token property-access\">request</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">url</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">getPathWithQuery</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> bodyStr <span class=\"token operator\">=</span> pm<span class=\"token punctuation\">.</span><span class=\"token property-access\">request</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">body</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">raw</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> sign<span class=\"token operator\">=</span><span class=\"token maybe-class-name\">CryptoJS</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">enc</span><span class=\"token punctuation\">.</span><span class=\"token property-access\"><span class=\"token maybe-class-name\">Base64</span></span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">stringify</span><span class=\"token punctuation\">(</span><span class=\"token maybe-class-name\">CryptoJS</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\"><span class=\"token maybe-class-name\">HmacSHA256</span></span><span class=\"token punctuation\">(</span>isoString <span class=\"token operator\">+</span> method <span class=\"token operator\">+</span> path <span class=\"token operator\">+</span> bodyStr<span class=\"token punctuation\">,</span> pm<span class=\"token punctuation\">.</span><span class=\"token property-access\">variables</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">replaceIn</span><span class=\"token punctuation\">(</span><span class=\"token string\">'{{secret_key}}'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\npm<span class=\"token punctuation\">.</span><span class=\"token property-access\">request</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">headers</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">add</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">key</span><span class=\"token operator\">:</span> <span class=\"token string\">'OK-ACCESS-SIGN'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">value</span><span class=\"token operator\">:</span> sign\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\npm<span class=\"token punctuation\">.</span><span class=\"token property-access\">request</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">headers</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">add</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">key</span><span class=\"token operator\">:</span> <span class=\"token string\">'OK-ACCESS-TIMESTAMP'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">value</span><span class=\"token operator\">:</span> isoString\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<h2 data-content=\"Javascript 示例\" id=\"javascript-示例\">Javascript 示例<a class=\"index_header-anchor__Xqb+L\" href=\"#javascript-示例\" style=\"opacity:0\">#</a></h2>\n<p>若要通过 Javascript 脚本调用 API，请参考以下代码示例：</p>\n<div class=\"remark-highlight\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> https <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'https'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> crypto <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'crypto'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> querystring <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'querystring'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// 定义 API 凭证</span>\n<span class=\"token keyword\">const</span> api_config <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token string-property property\">\"api_key\"</span><span class=\"token operator\">:</span> <span class=\"token string\">''</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string-property property\">\"secret_key\"</span><span class=\"token operator\">:</span> <span class=\"token string\">''</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string-property property\">\"passphrase\"</span><span class=\"token operator\">:</span> <span class=\"token string\">''</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">preHash</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">timestamp<span class=\"token punctuation\">,</span> method<span class=\"token punctuation\">,</span> request_path<span class=\"token punctuation\">,</span> params</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// 根据字符串和参数创建预签名</span>\n  <span class=\"token keyword\">let</span> query_string <span class=\"token operator\">=</span> <span class=\"token string\">''</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword control-flow\">if</span> <span class=\"token punctuation\">(</span>method <span class=\"token operator\">===</span> <span class=\"token string\">'GET'</span> <span class=\"token operator\">&amp;&amp;</span> params<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    query_string <span class=\"token operator\">=</span> <span class=\"token string\">'?'</span> <span class=\"token operator\">+</span> querystring<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">stringify</span><span class=\"token punctuation\">(</span>params<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword control-flow\">if</span> <span class=\"token punctuation\">(</span>method <span class=\"token operator\">===</span> <span class=\"token string\">'POST'</span> <span class=\"token operator\">&amp;&amp;</span> params<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    query_string <span class=\"token operator\">=</span> <span class=\"token known-class-name class-name\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">stringify</span><span class=\"token punctuation\">(</span>params<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword control-flow\">return</span> timestamp <span class=\"token operator\">+</span> method <span class=\"token operator\">+</span> request_path <span class=\"token operator\">+</span> query_string<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">sign</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">message<span class=\"token punctuation\">,</span> secret_key</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// 使用 HMAC-SHA256 对预签名字符串进行签名</span>\n  <span class=\"token keyword\">const</span> hmac <span class=\"token operator\">=</span> crypto<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">createHmac</span><span class=\"token punctuation\">(</span><span class=\"token string\">'sha256'</span><span class=\"token punctuation\">,</span> secret_key<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  hmac<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">update</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword control-flow\">return</span> hmac<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">digest</span><span class=\"token punctuation\">(</span><span class=\"token string\">'base64'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">createSignature</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">method<span class=\"token punctuation\">,</span> request_path<span class=\"token punctuation\">,</span> params</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// 获取 ISO 8601 格式时间戳</span>\n  <span class=\"token keyword\">const</span> timestamp <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">toISOString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">slice</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">'Z'</span><span class=\"token punctuation\">;</span>\n  <span class=\"token comment\">// 生成签名</span>\n  <span class=\"token keyword\">const</span> message <span class=\"token operator\">=</span> <span class=\"token function\">preHash</span><span class=\"token punctuation\">(</span>timestamp<span class=\"token punctuation\">,</span> method<span class=\"token punctuation\">,</span> request_path<span class=\"token punctuation\">,</span> params<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> signature <span class=\"token operator\">=</span> <span class=\"token function\">sign</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">,</span> api_config<span class=\"token punctuation\">[</span><span class=\"token string\">'secret_key'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword control-flow\">return</span> <span class=\"token punctuation\">{</span> signature<span class=\"token punctuation\">,</span> timestamp <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">sendGetRequest</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">request_path<span class=\"token punctuation\">,</span> params</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// 生成签名</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> signature<span class=\"token punctuation\">,</span> timestamp <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">createSignature</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"GET\"</span><span class=\"token punctuation\">,</span> request_path<span class=\"token punctuation\">,</span> params<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// 生成请求头</span>\n  <span class=\"token keyword\">const</span> headers <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token string-property property\">'OK-ACCESS-KEY'</span><span class=\"token operator\">:</span> api_config<span class=\"token punctuation\">[</span><span class=\"token string\">'api_key'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string-property property\">'OK-ACCESS-SIGN'</span><span class=\"token operator\">:</span> signature<span class=\"token punctuation\">,</span>\n    <span class=\"token string-property property\">'OK-ACCESS-TIMESTAMP'</span><span class=\"token operator\">:</span> timestamp<span class=\"token punctuation\">,</span>\n    <span class=\"token string-property property\">'OK-ACCESS-PASSPHRASE'</span><span class=\"token operator\">:</span> api_config<span class=\"token punctuation\">[</span><span class=\"token string\">'passphrase'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> options <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">hostname</span><span class=\"token operator\">:</span> <span class=\"token string\">'web3.okx.com'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">path</span><span class=\"token operator\">:</span> request_path <span class=\"token operator\">+</span> <span class=\"token punctuation\">(</span>params <span class=\"token operator\">?</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">?</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>querystring<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">stringify</span><span class=\"token punctuation\">(</span>params<span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span> <span class=\"token operator\">:</span> <span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">method</span><span class=\"token operator\">:</span> <span class=\"token string\">'GET'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">headers</span><span class=\"token operator\">:</span> headers\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> req <span class=\"token operator\">=</span> https<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">request</span><span class=\"token punctuation\">(</span>options<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">res</span><span class=\"token punctuation\">)</span> <span class=\"token arrow operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">let</span> data <span class=\"token operator\">=</span> <span class=\"token string\">''</span><span class=\"token punctuation\">;</span>\n    res<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'data'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">chunk</span><span class=\"token punctuation\">)</span> <span class=\"token arrow operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n      data <span class=\"token operator\">+=</span> chunk<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    res<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'end'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token arrow operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token console class-name\">console</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">log</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  req<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">end</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">sendPostRequest</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">request_path<span class=\"token punctuation\">,</span> params</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// 生成签名</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> signature<span class=\"token punctuation\">,</span> timestamp <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">createSignature</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"POST\"</span><span class=\"token punctuation\">,</span> request_path<span class=\"token punctuation\">,</span> params<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// 生成请求头</span>\n  <span class=\"token keyword\">const</span> headers <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token string-property property\">'OK-ACCESS-KEY'</span><span class=\"token operator\">:</span> api_config<span class=\"token punctuation\">[</span><span class=\"token string\">'api_key'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string-property property\">'OK-ACCESS-SIGN'</span><span class=\"token operator\">:</span> signature<span class=\"token punctuation\">,</span>\n    <span class=\"token string-property property\">'OK-ACCESS-TIMESTAMP'</span><span class=\"token operator\">:</span> timestamp<span class=\"token punctuation\">,</span>\n    <span class=\"token string-property property\">'OK-ACCESS-PASSPHRASE'</span><span class=\"token operator\">:</span> api_config<span class=\"token punctuation\">[</span><span class=\"token string\">'passphrase'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string-property property\">'Content-Type'</span><span class=\"token operator\">:</span> <span class=\"token string\">'application/json'</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> options <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">hostname</span><span class=\"token operator\">:</span> <span class=\"token string\">'web3.okx.com'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">path</span><span class=\"token operator\">:</span> request_path<span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">method</span><span class=\"token operator\">:</span> <span class=\"token string\">'POST'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">headers</span><span class=\"token operator\">:</span> headers\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> req <span class=\"token operator\">=</span> https<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">request</span><span class=\"token punctuation\">(</span>options<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">res</span><span class=\"token punctuation\">)</span> <span class=\"token arrow operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">let</span> data <span class=\"token operator\">=</span> <span class=\"token string\">''</span><span class=\"token punctuation\">;</span>\n    res<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'data'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">chunk</span><span class=\"token punctuation\">)</span> <span class=\"token arrow operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n      data <span class=\"token operator\">+=</span> chunk<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    res<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'end'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token arrow operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token console class-name\">console</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">log</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword control-flow\">if</span> <span class=\"token punctuation\">(</span>params<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    req<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">write</span><span class=\"token punctuation\">(</span><span class=\"token known-class-name class-name\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">stringify</span><span class=\"token punctuation\">(</span>params<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  req<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">end</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// GET 请求示例</span>\n<span class=\"token keyword\">const</span> getRequestPath <span class=\"token operator\">=</span> <span class=\"token string\">'/api/v5/dex/aggregator/quote'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> getParams <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token string-property property\">'chainId'</span><span class=\"token operator\">:</span> <span class=\"token number\">42161</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string-property property\">'amount'</span><span class=\"token operator\">:</span> <span class=\"token number\">1000000000000</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string-property property\">'toTokenAddress'</span><span class=\"token operator\">:</span> <span class=\"token string\">'0xff970a61a04b1ca14834a43f5de4533ebddb5cc8'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string-property property\">'fromTokenAddress'</span><span class=\"token operator\">:</span> <span class=\"token string\">'0x82aF49447D8a07e3bd95BD0d56f35241523fBab1'</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">sendGetRequest</span><span class=\"token punctuation\">(</span>getRequestPath<span class=\"token punctuation\">,</span> getParams<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// POST 请求示例</span>\n<span class=\"token keyword\">const</span> postRequestPath <span class=\"token operator\">=</span> <span class=\"token string\">'/api/v5/mktplace/nft/ordinals/listings'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> postParams <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token string-property property\">'slug'</span><span class=\"token operator\">:</span> <span class=\"token string\">'sats'</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">sendPostRequest</span><span class=\"token punctuation\">(</span>postRequestPath<span class=\"token punctuation\">,</span> postParams<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<h2 data-content=\"遗留 API\" id=\"遗留-api\">遗留 API<a class=\"index_header-anchor__Xqb+L\" href=\"#遗留-api\" style=\"opacity:0\">#</a></h2>\n<p>钱包 API、市场 API 和 DeFi API 已经被归档，我们将不再提供更新。如果你正在使用相关服务并需要查看有关的文档内容 ，请前往<a href=\"/zh-hans/build/docs/waas/okx-waas-what-is-waas\">这里</a> 。</p><!--/$--></div>",
  "url": "https://web3.okx.com/zh-hans/build/dev-docs/dex-api/dex-api-access-and-usage#设置标题",
  "navigation": {
    "breadcrumbs": [
      "DEX API",
      "首页",
      "API 访问和用法"
    ],
    "sidebar_links": [
      "什么是 DEX API",
      "API 访问和用法",
      "API 费用",
      "支持的链",
      "开发者平台",
      "环境设置",
      "运行第一个程序",
      "用户协议"
    ],
    "toc": [
      "鉴权",
      "Postman 示例",
      "Javascript 示例",
      "遗留 API"
    ]
  },
  "word_count": 1034,
  "extract_time": "2025-05-27 01:30:03"
}